<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Big Bang Scroll</title>
  <!-- Preload video frames for smooth scroll animation -->
  <link rel="preload" as="image" href="assets/video-frames/ezgif-frame-001.png">
  <link rel="preload" as="image" href="assets/video-frames/ezgif-frame-007.png">
  <link rel="preload" as="image" href="assets/video-frames/ezgif-frame-014.png">
  <link rel="preload" as="image" href="assets/video-frames/ezgif-frame-021.png">
  <link rel="preload" as="image" href="assets/video-frames/ezgif-frame-028.png">
  <!-- Preload key galaxy frames for smooth scroll -->
  <link rel="preload" as="image" href="assets/galaxy-frames/ezgif-frame-001.png">
  <link rel="preload" as="image" href="assets/galaxy-frames/ezgif-frame-010.png">
  <link rel="preload" as="image" href="assets/galaxy-frames/ezgif-frame-020.png">
  <link rel="preload" as="image" href="assets/galaxy-frames/ezgif-frame-030.png">
  <link rel="preload" as="image" href="assets/galaxy-frames/ezgif-frame-040.png">
  <link rel="preload" as="image" href="assets/galaxy-frames/ezgif-frame-051.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;800&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
      font-family: Arial, sans-serif;
    }
    canvas {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: 0;
    }
    
    /* Milky Way background - behind canvas and purple */
    .milkyway-bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background: url('assets/milkyway-bg.png') center center / cover no-repeat;
      z-index: -2;
      opacity: 0;
      transition: opacity 2.5s ease;
      pointer-events: none;
    }
    
    .milkyway-bg.visible {
      opacity: 1;
    }
    
    /* Purple Milky Way background - for 0.33-0.58 section */
    .gray-milkyway-bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background: url('assets/purple-milkyway-bg.png') center center / cover no-repeat;
      z-index: 1;
      opacity: 0;
      transition: opacity 2.5s ease;
      pointer-events: none;
    }
    
    .gray-milkyway-bg.visible {
      opacity: 1;
    }
    
    /* Scroll Frames - fills screen height with faded edges (0.37-0.56) */
    .scroll-frames {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: auto;
      height: 100%;
      object-fit: contain;
      z-index: 2;
      opacity: 0;
      transition: opacity 0.8s ease;
      pointer-events: none;
      -webkit-mask-image: linear-gradient(to right, transparent 0%, black 8%, black 92%, transparent 100%);
      mask-image: linear-gradient(to right, transparent 0%, black 8%, black 92%, transparent 100%);
    }
    
    .scroll-frames.visible {
      opacity: 1;
    }
    
    /* Purple Galaxy background - above space bg, below canvas */
    .purple-galaxy-bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background: url('assets/purple-galaxy.png') center center / cover no-repeat;
      z-index: 1;
      opacity: 0;
      transition: opacity 1.5s ease;
      pointer-events: none;
    }
    
    .purple-galaxy-bg.visible {
      opacity: 1;
    }
    .purple-galaxy-bg.fading-in {
      transition: opacity 1.5s ease;
    }
    
    /* Black Hole Video */
    .blackhole-video {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 70vw;
      height: auto;
      z-index: 3;
      opacity: 0;
      pointer-events: none;
      mix-blend-mode: screen; /* Makes black transparent! */
      filter: brightness(1.1) contrast(1.1);
    }
    
    .blackhole-video.visible {
      opacity: 1;
    }
    
    /* Planets Section Background */
    .planets-bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background: url('assets/planets-bg.png') center center / cover no-repeat;
      z-index: 1;
      opacity: 0;
      pointer-events: none;
    }
    
    .planets-bg.visible {
      opacity: 1;
    }
    
    /* Footer Section */
    .site-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.8) 70%, transparent 100%);
      padding: 60px 80px 40px;
      z-index: 20;
      opacity: 0;
      transform: translateY(100%);
      transition: opacity 0.8s ease, transform 0.8s ease;
      pointer-events: none;
    }
    
    .site-footer.visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      max-width: 1400px;
      margin: 0 auto;
      gap: 60px;
    }
    
    .footer-brand {
      flex: 1;
    }
    
    .footer-logo {
      font-family: 'Inter', sans-serif;
      font-size: 28px;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 15px;
      letter-spacing: 2px;
    }
    
    .footer-tagline {
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      color: rgba(255, 255, 255, 0.6);
      line-height: 1.6;
      max-width: 300px;
    }
    
    .footer-links {
      display: flex;
      gap: 60px;
    }
    
    .footer-column h4 {
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      font-weight: 600;
      color: #ffffff;
      margin: 0 0 20px 0;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    
    .footer-column ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .footer-column li {
      margin-bottom: 12px;
    }
    
    .footer-column a {
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      color: rgba(255, 255, 255, 0.6);
      text-decoration: none;
      transition: color 0.3s ease;
    }
    
    .footer-column a:hover {
      color: #ffffff;
    }
    
    .footer-social {
      display: flex;
      gap: 20px;
      margin-top: 30px;
    }
    
    .footer-social a {
      width: 40px;
      height: 40px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      transition: all 0.3s ease;
    }
    
    .footer-social a:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.5);
      color: #ffffff;
    }
    
    .footer-bottom {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
    }
    
    .footer-copyright {
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      color: rgba(255, 255, 255, 0.4);
    }
    
    @media (max-width: 768px) {
      .site-footer {
        padding: 40px 20px 30px;
      }
      
      .footer-content {
        flex-direction: column;
        gap: 40px;
      }
      
      .footer-links {
        flex-direction: column;
        gap: 30px;
      }
    }
    
    /* Music Player */
    .music-player {
      position: fixed;
      bottom: 30px;
      left: 30px;
      z-index: 1000;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .music-player:hover {
      transform: scale(1.05);
    }
    
    .music-icon-svg {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.3s ease;
    }
    
    .music-icon-svg svg {
      width: 26px;
      height: 26px;
    }
    
    .music-player.paused .music-icon-svg {
      opacity: 0.4;
    }
    
    .music-player.paused .sound-wave-1,
    .music-player.paused .sound-wave-2 {
      display: none;
    }
    
    .music-player-container {
      position: relative;
      width: 48px;
      height: 48px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(8px);
      transition: all 0.3s ease;
    }
    
    .music-player:not(.paused) .music-player-container {
      box-shadow: 0 2px 20px rgba(100, 200, 200, 0.4);
      border-color: rgba(100, 200, 200, 0.4);
    }
    
    .music-player:hover .music-player-container {
      background: rgba(255, 255, 255, 0.18);
      border-color: rgba(255, 255, 255, 0.5);
      box-shadow: 0 2px 20px rgba(255, 255, 255, 0.15);
    }
    
    
    
    .music-label {
      position: absolute;
      bottom: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Inter', sans-serif;
      font-size: 8px;
      color: rgba(255, 255, 255, 0.6);
      white-space: nowrap;
      letter-spacing: 1px;
    }
    
    @media (max-width: 768px) {
      .music-player {
        bottom: 20px;
        left: 20px;
      }
      
      .music-player-container {
        width: 50px;
        height: 25px;
      }
    }
    
    /* Planets/Solar System Section */
    .solar-system-section {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 15;
      opacity: 0;
      pointer-events: none;
    }
    
    .solar-system-section.visible {
      opacity: 1;
      pointer-events: auto;
    }

    /* Mercury corner wrapper */
    .mercury-corner-wrapper {
      position: absolute;
      bottom: 0;
      right: 0;
      z-index: 17;
      pointer-events: auto;
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .mercury-corner-label {
      position: absolute;
      bottom: 70px;
      right: 180px;
      font-family: 'Inter', sans-serif;
      font-size: 16px;
      font-weight: 200;
      letter-spacing: 3px;
      color: #E7DFDF;
      text-transform: uppercase;
      pointer-events: none;
      white-space: nowrap;
    }

    /* Mercury corner image */
    .mercury-corner {
      width: 280px;
      height: 280px;
      border-radius: 50%;
      overflow: hidden;
      margin-bottom: -130px;
      margin-right: -100px;
    }

    .mercury-corner img {
      width: 130%;
      height: 130%;
      object-fit: cover;
      margin-top: -15%;
      margin-left: -15%;
      border-radius: 50%;
    }

    /* Red planet floating */
    .red-planet-float {
      position: absolute;
      top: 35%;
      right: 14%;
      width: 30px;
      height: 30px;
      z-index: 17;
      pointer-events: none;
      border-radius: 50%;
      overflow: hidden;
      animation: float-planet 6s ease-in-out infinite;
    }

    @keyframes float-planet {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .purple-planet-float {
      position: absolute;
      top: 43%;
      right: 8%;
      width: 38px;
      height: 38px;
      z-index: 17;
      pointer-events: none;
      border-radius: 50%;
      overflow: hidden;
      animation: float-planet 7s ease-in-out infinite;
      animation-delay: -2s;
    }

    .blue-planet-float {
      position: absolute;
      top: 52%;
      right: 14%;
      width: 28px;
      height: 28px;
      z-index: 17;
      pointer-events: none;
      border-radius: 50%;
      overflow: hidden;
      animation: float-planet 5s ease-in-out infinite;
      animation-delay: -1s;
    }

    .gold-planet-float {
      position: absolute;
      top: 24%;
      left: 9%;
      width: 44px;
      height: 44px;
      z-index: 17;
      pointer-events: none;
      border-radius: 50%;
      overflow: hidden;
      animation: float-planet 8s ease-in-out infinite;
      animation-delay: -3s;
    }

    .purple-planet-float img,
    .gold-planet-float img {
      width: 140%;
      height: 140%;
      object-fit: cover;
      margin-top: -20%;
      margin-left: -20%;
      border-radius: 50%;
    }

    .blue-planet-float img {
      width: 150%;
      height: 150%;
      object-fit: cover;
      margin-top: -25%;
      margin-left: -25%;
      border-radius: 50%;
    }

    .red-planet-float img {
      width: 140%;
      height: 140%;
      object-fit: cover;
      margin-top: -20%;
      margin-left: -20%;
      border-radius: 50%;
    }

    /* Orbital rings */
    .orbit-rings {
      display: none;
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      pointer-events: none;
    }

    .orbit-ring {
      position: absolute;
      border: 1px solid #D4CFCF;
      opacity: 0.15;
      border-radius: 50%;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) translateY(50%);
    }

    .orbit-ring:nth-child(1) { width: 400px; height: 400px; }
    .orbit-ring:nth-child(2) { width: 520px; height: 520px; }
    .orbit-ring:nth-child(3) { width: 635px; height: 635px; }
    .orbit-ring:nth-child(4) { width: 750px; height: 750px; }
    .orbit-ring:nth-child(5) { width: 870px; height: 870px; }
    .orbit-ring:nth-child(6) { width: 985px; height: 985px; }
    .orbit-ring:nth-child(7) { width: 1105px; height: 1105px; }
    
    /* Navigation bar at top */
    .planet-nav {
      position: absolute;
      top: 40px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      align-items: baseline;
      gap: 50px;
      padding: 0 40px;
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      letter-spacing: 2px;
      text-transform: capitalize;
    }
    
    .planet-nav-item {
      color: rgba(255, 255, 255, 0.4);
      cursor: pointer;
      transition: color 0.3s ease, font-size 0.3s ease;
      white-space: nowrap;
    }
    
    .planet-nav-item:hover {
      color: rgba(255, 255, 255, 0.7);
    }
    
    .planet-nav-item.active {
      color: #ffffff;
      font-size: 22px;
      font-weight: 300;
      letter-spacing: 2px;
    }
    
    /* Main planet display */
    .planet-display {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      align-items: center;
      gap: 60px;
    }
    
    .planet-image-container {
      position: relative;
      margin-left: -30px;
    }
    
    .planet-main-image {
      width: 450px;
      height: 450px;
      object-fit: cover;
      object-position: center center;
      border-radius: 50%;
      clip-path: circle(35%);
      scale: 1.4;
      filter: drop-shadow(0 0 60px rgba(255, 150, 50, 0.4));
      position: relative;
      left: -125px;
      top: 90px;
      z-index: 18;
    }

    .planet-hotspot {
      position: absolute;
      top: 60%;
      left: calc(50% - 370px);
      transform: translate(-50%, -50%) scale(1.4);
      width: 14px;
      height: 14px;
      background: rgba(255, 255, 255, 0.85);
      border-radius: 50%;
      cursor: pointer;
      z-index: 19;
      transition: all 0.3s ease;
      box-shadow: 0 0 12px rgba(255, 255, 255, 0.5);
    }

    .planet-hotspot:hover {
      transform: translate(-50%, -50%) scale(1.8);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    }

    .planet-hotspot::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 28px;
      height: 28px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: hotspot-pulse 2s ease-in-out infinite;
    }

    @keyframes hotspot-pulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
      50% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
    }

    .planet-hotspot-tooltip {
      position: absolute;
      top: 60%;
      left: calc(50% - 150px);
      transform: translate(-50%, -50%) scale(0.9);
      width: 520px;
      background: rgba(10, 10, 30, 0.92);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 16px;
      padding: 24px;
      z-index: 25;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .planet-hotspot-tooltip.active {
      opacity: 1;
      pointer-events: auto;
      transform: translate(-50%, -50%) scale(1);
    }

    .planet-hotspot-tooltip .tooltip-close {
      position: absolute;
      top: 12px;
      right: 16px;
      background: none;
      border: none;
      color: rgba(255, 255, 255, 0.6);
      font-size: 20px;
      cursor: pointer;
      transition: color 0.2s ease;
      z-index: 2;
    }

    .planet-hotspot-tooltip .tooltip-close:hover {
      color: #fff;
    }

    .planet-hotspot-tooltip .tooltip-inner {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    .planet-hotspot-tooltip .tooltip-video {
      width: 260px;
      height: 260px;
      border-radius: 12px;
      object-fit: cover;
      flex-shrink: 0;
    }

    .planet-hotspot-tooltip .tooltip-text {
      color: #E7DFDF;
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      font-weight: 300;
      line-height: 1.7;
      letter-spacing: 0.3px;
    }
    
    /* Stats bar above title */
    .planet-stats-bar {
      position: fixed;
      top: calc(25% - 55px);
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      justify-content: space-between;
      width: fit-content;
      min-width: 600px;
      gap: 50px;
      z-index: 16;
      pointer-events: none;
    }

    .planet-title-overlay {
      position: fixed;
      top: 25%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Inter', sans-serif;
      font-weight: 900;
      z-index: 15;
      font-size: 120px;
      color: #A5A5A5;
      letter-spacing: 0px;
      text-transform: uppercase;
      white-space: nowrap;
      pointer-events: none;
      z-index: 16;
    }
    
    /* Planet info panel */
    .planet-info {
      width: 310px;
      flex-shrink: 0;
      position: relative;
      top: 120px;
      left: -130px;
    }
    
    .planet-info-row {
      display: flex;
      gap: 40px;
      margin-bottom: 30px;
    }
    
    .planet-info-item {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    
    .planet-info-label {
      font-family: 'Inter', sans-serif;
      font-size: 10px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: rgba(255, 255, 255, 0.5);
    }
    
    .planet-info-value {
      font-family: 'Inter', sans-serif;
      font-size: 16px;
      font-weight: 500;
      color: #ffffff;
    }
    
    .planet-description {
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      line-height: 1.8;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 20px;
    }
    
    /* Navigation arrows */
    .nav-arrow {
      display: none;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 50px;
      height: 50px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      color: rgba(255, 255, 255, 0.6);
      font-size: 20px;
    }
    
    .nav-arrow:hover {
      border-color: rgba(255, 255, 255, 0.6);
      color: #ffffff;
      background: rgba(255, 255, 255, 0.1);
    }
    
    .nav-arrow.prev {
      left: 40px;
    }
    
    .nav-arrow.next {
      right: 40px;
    }
    
    /* Side planets preview */
    .side-planet {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.6;
      transition: opacity 0.3s ease;
    }
    
    .side-planet:hover {
      opacity: 1;
    }
    
    .side-planet.left {
      left: 80px;
    }
    
    .side-planet.right {
      right: 80px;
    }
    
    .side-planet img {
      width: 80px;
      height: 80px;
      object-fit: contain;
    }
    
    .side-planet-label {
      font-family: 'Inter', sans-serif;
      font-size: 11px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: rgba(255, 255, 255, 0.5);
      text-align: center;
      margin-top: 10px;
    }
    
    /* Vertical Timeline Navigation */
    .timeline-nav {
      display: none;
      position: fixed;
      right: 30px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 100;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .timeline-nav-line {
      position: absolute;
      width: 1px;
      height: 100%;
      background: rgba(255, 255, 255, 0.2);
      left: 50%;
      transform: translateX(-50%);
    }
    
    .timeline-nav-progress {
      position: absolute;
      width: 1px;
      background: rgba(255, 255, 255, 0.8);
      left: 50%;
      transform: translateX(-50%);
      top: 0;
      height: 0%;
      transition: height 0.3s ease;
    }
    
    .timeline-nav-points {
      display: flex;
      flex-direction: column;
      gap: 30px;
      position: relative;
      padding: 20px 0;
    }
    
    .timeline-nav-point {
      position: relative;
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    
    .timeline-nav-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.5);
      transition: all 0.3s ease;
    }
    
    .timeline-nav-point:hover .timeline-nav-dot {
      background: rgba(255, 255, 255, 0.6);
      transform: scale(1.2);
    }
    
    .timeline-nav-point.active .timeline-nav-dot {
      background: #ffffff;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      transform: scale(1.3);
    }
    
    .timeline-nav-label {
      position: absolute;
      right: 20px;
      font-family: 'Inter', sans-serif;
      font-size: 11px;
      font-weight: 500;
      color: rgba(255, 255, 255, 0);
      white-space: nowrap;
      transition: all 0.3s ease;
      letter-spacing: 1px;
    }
    
    .timeline-nav-point:hover .timeline-nav-label,
    .timeline-nav-point.active .timeline-nav-label {
      color: rgba(255, 255, 255, 0.8);
    }
    
    .timeline-nav-point.active .timeline-nav-label {
      color: #ffffff;
    }
    
    /* Left Section Navigation - hidden */
    .section-nav {
      display: none;
    }
    
    .section-nav-item {
      display: flex;
      align-items: center;
      gap: 15px;
      cursor: pointer;
      opacity: 0.5;
      transition: all 0.3s ease;
    }
    
    .section-nav-item:hover {
      opacity: 0.8;
    }
    
    .section-nav-item.active {
      opacity: 1;
    }
    
    .section-nav-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    
    .section-nav-item:hover .section-nav-icon {
      border-color: rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.1);
    }
    
    .section-nav-item.active .section-nav-icon {
      border-color: rgba(255, 255, 255, 0.5);
      background: rgba(255, 255, 255, 0.15);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    }
    
    .section-nav-icon img {
      width: 35px;
      height: 35px;
      object-fit: contain;
    }
    
    .section-nav-label {
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.7);
      letter-spacing: 0.5px;
      opacity: 0;
      transform: translateX(-10px);
      transition: all 0.3s ease;
      pointer-events: none;
    }
    
    .section-nav-item:hover .section-nav-label {
      opacity: 1;
      transform: translateX(0);
    }
    
    .section-nav-item.active .section-nav-label {
      color: #ffffff;
    }
    
    .section-nav-item.active::after {
      content: '';
      position: absolute;
      left: -30px;
      width: 3px;
      height: 50px;
      background: linear-gradient(180deg, transparent, rgba(255,255,255,0.8), transparent);
    }
    
    /* Black Holes Section */
    .blackholes-text {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 15;
      pointer-events: none;
    }
    
    .blackholes-title {
      font-family: 'Inter', sans-serif;
      font-weight: 800;
      font-size: clamp(50px, 10vw, 150px);
      color: #ffffff;
      margin: 0;
      letter-spacing: 2px;
      line-height: 1;
      text-transform: uppercase;
      white-space: nowrap;
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    
    .blackholes-title.visible {
      opacity: 1;
      transform: scale(1);
    }
    
    .blackholes-subtitle {
      font-family: 'Inter', sans-serif;
      font-weight: 300;
      font-size: 18px;
      color: rgba(255, 255, 255, 0.7);
      margin: 30px auto 0;
      line-height: 1.8;
      text-align: center;
      max-width: 750px;
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    
    .blackholes-subtitle.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Text being sucked into black hole - controlled by JS */
    .blackholes-title.sucking,
    .blackholes-subtitle.sucking {
      transition: none;
    }
    
    @media (max-width: 768px) {
      .blackholes-title {
        white-space: normal;
      }
      .blackholes-subtitle {
        font-size: 14px;
        max-width: 90%;
      }
    }
    .ui {
      position: fixed;
      left: 24px;
      top: 24px;
      z-index: 1;
      color: rgba(255,255,255,0.85);
      max-width: 480px;
      line-height: 1.3;
      pointer-events: none;
    }
    .ui .small {
      opacity: 0.7;
      font-size: 14px;
      margin-top: 8px;
    }
    .ui h1 {
      font-size: 48px;
      font-weight: 300;
      margin: 0 0 8px 0;
      letter-spacing: 2px;
      text-shadow: 0 0 20px rgba(255,255,255,0.3);
    }
    .ui .subtitle {
      font-size: 18px;
      opacity: 0.9;
      margin: 0 0 24px 0;
      font-weight: 300;
    }
    .scroll-hint {
      display: flex;
      align-items: center;
      gap: 8px;
      opacity: 0.6;
      font-size: 14px;
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.6; transform: translateY(0); }
      50% { opacity: 1; transform: translateY(4px); }
    }
    .scroll-space {
      height: 960vh;
    }
    .content-sections {
      position: relative;
      z-index: 2;
    }
    .section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 80px 40px;
      opacity: 0;
      transition: opacity 0.6s ease;
    }
    .section.visible {
      opacity: 1;
    }
    .section-content {
      max-width: 600px;
      text-align: center;
      color: rgba(255,255,255,0.95);
      background: rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .section-content h2 {
      font-size: 36px;
      font-weight: 300;
      margin: 0 0 16px 0;
      letter-spacing: 1px;
    }
    .section-content p {
      font-size: 18px;
      line-height: 1.6;
      margin: 0;
      opacity: 0.9;
    }
    @media (max-width: 768px) {
      .ui {
        left: 16px;
        top: 16px;
        max-width: calc(100% - 32px);
      }
      .ui h1 {
        font-size: 32px;
      }
      .ui .subtitle {
        font-size: 16px;
      }
      .section {
        padding: 40px 20px;
      }
      .section-content {
        padding: 24px;
      }
      .section-content h2 {
        font-size: 28px;
      }
      .section-content p {
        font-size: 16px;
      }
    }
    .scroll-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      z-index: 10;
      background: rgba(255,255,255,0.1);
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #4a9eff, #7b68ee, #ff6b9d);
      transition: width 0.1s ease;
      box-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
    }

/* --- Animated space background --- */
.bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  overflow: hidden;
}

.bg-inner {
  position: absolute;
  inset: 0;

  background-image: url("assets/space-bg.png.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  will-change: transform;
  transform: translateY(0px) scale(1.05);
  filter: brightness(0.9) contrast(1.05) saturate(1.05);
}

/* breathing motion */
@keyframes drift {
  0%   { transform: translateY(0px) scale(1.05); }
  50%  { transform: translateY(-18px) scale(1.07); }
  100% { transform: translateY(0px) scale(1.05); }
}

.bg-inner {
  animation: drift 22s ease-in-out infinite;
  transition: opacity 1s ease;
}

.bg-inner.hidden {
  opacity: 0 !important;
  visibility: hidden !important;
}

/* UI above everything */
.ui { 
  position: fixed; 
  left: 20px; 
  top: 20px; 
  z-index: 3;
  pointer-events: none;
}

/* Logo image */
.logo-container {
  position: fixed;
  top: 10px;
  left: 15px;
  z-index: 10;
  display: flex;
  align-items: center;
}

.logo-image {
  width: 80px;
  height: 80px;
  object-fit: cover;
  object-position: center 35%;
  border-radius: 50%;
  clip-path: circle(50%);
}

/* Three.js canvas above frames */
canvas {
  position: fixed;
  inset: 0;
  z-index: 3;
  display: block;
}

/* Hero text section */
.hero-text {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  z-index: 2;
  pointer-events: none;
}

.hero-title {
  font-family: 'Inter', sans-serif;
  font-weight: 800;
  font-size: clamp(50px, 10vw, 150px);
  color: #ffffff;
  margin: 0;
  letter-spacing: 2px;
  line-height: 1;
  text-transform: uppercase;
  white-space: nowrap;
}

.hero-subtitle {
  font-family: 'Inter', sans-serif;
  font-weight: 300;
  font-size: 18px;
  color: rgba(255, 255, 255, 0.7);
  margin: 30px auto 0;
  line-height: 1.8;
  text-align: center;
}

/* Black Holes Section Text */
.blackhole-text {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.9);
  text-align: center;
  z-index: 2;
  pointer-events: none;
  opacity: 0;
  transition: opacity 1.2s ease, transform 1.2s ease;
}

.blackhole-text .hero-title {
  text-shadow: 0 2px 10px rgba(0, 0, 0, 1), 0 0 40px rgba(0, 0, 0, 0.9), 0 0 80px rgba(0, 0, 0, 0.7);
}

.blackhole-text .hero-subtitle {
  color: rgba(255, 255, 255, 0.95);
  text-shadow: 0 1px 6px rgba(0, 0, 0, 1), 0 0 25px rgba(0, 0, 0, 1), 0 0 50px rgba(0, 0, 0, 0.8);
}

.blackhole-text.visible {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

.blackhole-text.fade-out {
  opacity: 0;
  transform: translate(-50%, -50%) scale(1.05);
}

/* Galaxy Section Text */
.galaxy-text {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  z-index: 10;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.8s ease;
}

.galaxy-text.visible {
  opacity: 1;
}

.galaxy-title {
  font-family: 'Inter', sans-serif;
  font-weight: 800;
  font-size: clamp(50px, 10vw, 150px);
  color: #ffffff;
  margin: 0;
  letter-spacing: 2px;
  line-height: 1;
  text-transform: uppercase;
  white-space: nowrap;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 1), 0 0 40px rgba(0, 0, 0, 0.9), 0 0 80px rgba(0, 0, 0, 0.7);
}

.galaxy-subtitle {
  font-family: 'Inter', sans-serif;
  font-weight: 300;
  font-size: 18px;
  color: rgba(255, 255, 255, 0.95);
  margin: 30px auto 0;
  line-height: 1.8;
  text-align: center;
  text-shadow: 0 1px 6px rgba(0, 0, 0, 1), 0 0 25px rgba(0, 0, 0, 1), 0 0 50px rgba(0, 0, 0, 0.8);
}

/* Scroll to start hint */
.scroll-hint-bottom {
  position: fixed;
  bottom: 60px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  text-align: center;
  color: rgba(255, 255, 255, 0.6);
  font-family: 'Inter', sans-serif;
  font-weight: 300;
  font-size: 14px;
}

@media (max-width: 768px) {
  .hero-subtitle {
    font-size: 14px;
  }
}

/* Timeline text sections */
.timeline-text {
  position: fixed;
  left: 80px;
  bottom: 50px;
  width: calc(100vw - 160px);
  max-width: 1400px;
  z-index: 5;
  pointer-events: none;
  will-change: transform;
}

.timeline-layout {
  display: flex;
  align-items: flex-end;
  gap: 0;
}

.timeline-title {
  font-family: 'Inter', sans-serif;
  font-weight: 800;
  font-size: 130px;
  color: #A5A5A5;
  margin: 0;
  letter-spacing: 0.02em;
  line-height: 120px;
  text-shadow: none;
  text-transform: uppercase;
  flex-shrink: 0;
}

.timeline-content {
  flex: 1;
  max-width: 360px;
  margin-left: -120px;
  margin-bottom: -78px;
}

/* Interactive Explosion Hotspots */
.explosion-hotspots {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.explosion-hotspots.visible {
  opacity: 1;
}

.explosion-section-title {
  position: absolute;
  top: 38px;
  left: 60px;
  font-family: 'Inter', sans-serif;
  font-weight: 800;
  font-size: 34px;
  color: rgba(255, 255, 255, 0.9);
  letter-spacing: 2px;
  pointer-events: none;
  text-shadow: 0 0 20px rgba(255, 255, 255, 0.3), 0 0 60px rgba(255, 255, 255, 0.1);
  opacity: 0;
  transform: translateX(-40px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.explosion-hotspots.visible .explosion-section-title {
  opacity: 1;
  transform: translateX(0);
}

.hotspot {
  position: absolute;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: transparent;
  border: 2px solid rgba(255,255,255,0.9);
  cursor: pointer;
  pointer-events: auto;
  transform: translate(-50%, -50%);
  animation: hotspot-float 6s ease-in-out infinite, hotspot-pulse 2s ease-in-out infinite;
  box-shadow: 0 0 15px rgba(255,255,255,0.8), 0 0 30px rgba(255,255,255,0.4), inset 0 0 10px rgba(255,255,255,0.3);
  transition: opacity 0.3s ease;
}

/* כשעוברים על נקודה, שאר הנקודות נעלמות */
.explosion-hotspots.hotspot-active .hotspot {
  opacity: 0;
}

.explosion-hotspots.hotspot-active .hotspot.hovered {
  opacity: 1;
}

.hotspot:nth-child(2) { animation-delay: -1s, 0s; }
.hotspot:nth-child(3) { animation-delay: -2s, 0s; }
.hotspot:nth-child(4) { animation-delay: -3s, 0s; }
.hotspot:nth-child(5) { animation-delay: -4s, 0s; }
.hotspot:nth-child(6) { animation-delay: -0.5s, 0s; }
.hotspot:nth-child(7) { animation-delay: -2.5s, 0s; }
.hotspot:nth-child(8) { animation-delay: -4.5s, 0s; }
.hotspot:nth-child(9) { animation-delay: -1.5s, 0s; }

.hotspot::before {
  content: '!';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 18px;
  font-weight: bold;
  text-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px rgba(255,255,255,0.5);
}

@keyframes hotspot-float {
  0%, 100% { 
    transform: translate(-50%, -50%) translate(0px, 0px);
  }
  25% { 
    transform: translate(-50%, -50%) translate(8px, -12px);
  }
  50% { 
    transform: translate(-50%, -50%) translate(-5px, -8px);
  }
  75% { 
    transform: translate(-50%, -50%) translate(-10px, 6px);
  }
}

@keyframes hotspot-pulse {
  0%, 100% { 
    box-shadow: 0 0 15px rgba(255,255,255,0.8), 0 0 30px rgba(255,255,255,0.4), inset 0 0 10px rgba(255,255,255,0.3);
    opacity: 0.9;
  }
  50% { 
    box-shadow: 0 0 25px rgba(255,255,255,1), 0 0 50px rgba(255,255,255,0.6), inset 0 0 15px rgba(255,255,255,0.5);
    opacity: 1;
  }
}

/* Hotspot hover label - title next to dot */
.hotspot-label {
  position: absolute;
  top: 50%;
  left: calc(100% + 14px);
  transform: translateY(-50%);
  white-space: nowrap;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
  text-shadow: 0 0 10px rgba(0,0,0,0.8), 0 1px 4px rgba(0,0,0,0.6);
}

.hotspot:hover .hotspot-label,
.hotspot.active-hotspot .hotspot-label {
  opacity: 1;
}

.hotspot-tooltip {
  position: absolute;
  background: rgba(0, 0, 0, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 8px;
  padding: 16px 20px;
  max-width: 280px;
  color: white;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  line-height: 1.6;
  opacity: 0;
  visibility: hidden;
  transform: translateY(10px);
  transition: all 0.3s ease;
  pointer-events: none;
  z-index: 100;
}

.hotspot-tooltip.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

.hotspot-tooltip h4 {
  margin: 0 0 8px 0;
  font-size: 16px;
  font-weight: 600;
  color: #ffffff;
}

.hotspot-tooltip p {
  margin: 0;
  opacity: 0.9;
}

.hotspot-tooltip .close-btn {
  position: absolute;
  top: 8px;
  right: 10px;
  background: none;
  border: none;
  color: rgba(255,255,255,0.6);
  font-size: 18px;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}

.hotspot-tooltip .close-btn:hover {
  color: white;
}

/* Tooltip with video */
.hotspot-tooltip-video {
  width: 540px;
  max-width: 90vw;
}

.tooltip-content-row {
  display: flex;
  gap: 22px;
  align-items: flex-start;
}

.hotspot-video {
  width: 280px;
  min-width: 280px;
  border-radius: 8px;
}

/* עצירת ריחוף כשנקודה פעילה */
.hotspot.active-hotspot {
  animation: none !important;
}

.tooltip-text h4 {
  margin: 0 0 8px 0;
}

.tooltip-text p {
  margin: 0;
}

/* הסתרת נקודות כשתיבה פתוחה */
.explosion-hotspots.tooltip-open .hotspot {
  opacity: 0 !important;
  pointer-events: none;
}

.explosion-hotspots.tooltip-open .hotspot.active-hotspot {
  opacity: 1 !important;
  pointer-events: auto;
}

.timeline-description {
  font-family: 'Inter', sans-serif;
  font-weight: 300;
  font-size: 16px;
  color: #ffffff;
  line-height: 1.6;
  margin: 0 0 16px 0;
}

.timeline-description:last-child {
  margin-bottom: 0;
}

/* Timeline 1, Timeline 3, Timeline Galaxy – מיקום שמאלה ב-80px */
#timeline-1,
#timeline-3,
#timeline-galaxy {
  left: 80px;
}

#timeline-1 .timeline-content {
  margin-left: -140px;
}

/* Timeline 3 – תיבה מונמכת יותר */
#timeline-3 {
  bottom: 10px;
}

/* Timeline 3 – תיבת טקסט קצת יותר גדולה */
#timeline-3 .timeline-content {
  max-width: 400px;
  margin-bottom: -54px;
  margin-left: -140px;
}
#timeline-3 .timeline-description {
  font-size: 17px;
  line-height: 1.65;
}

/* Timeline Galaxy – תיבת טקסט מוזזת */
#timeline-galaxy .timeline-content {
  margin-bottom: -40px;
  margin-left: -140px;
}

@media (max-width: 768px) {
  .timeline-text {
    left: 20px;
    bottom: 60px;
    width: calc(100vw - 40px);
  }
  
  .timeline-layout {
    flex-direction: column;
    align-items: flex-start;
    gap: 30px;
  }
  
  .timeline-title {
    font-size: 60px;
    line-height: 56px;
  }
  
  .timeline-content {
    padding-bottom: 0;
  }
  
  .timeline-description {
    font-size: 14px;
  }
}
    /* Language Toggle */
    .lang-toggle {
      position: fixed;
      top: 20px;
      right: 60px;
      z-index: 2000;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 8px;
      color: rgba(255, 255, 255, 0.85);
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 1.5px;
      padding: 8px 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(8px);
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
    }
    
    .lang-toggle:hover {
      color: #fff;
      border-color: rgba(255, 255, 255, 0.6);
      background: rgba(255, 255, 255, 0.18);
      box-shadow: 0 2px 20px rgba(255, 255, 255, 0.15);
    }
    
    .lang-toggle.active {
      color: #fff;
      border-color: rgba(255, 255, 255, 0.6);
      background: rgba(255, 255, 255, 0.18);
    }

    /* Accessibility Menu */
    .a11y-toggle {
      position: fixed;
      left: 30px;
      bottom: 85px;
      z-index: 2000;
      width: 48px;
      height: 48px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      backdrop-filter: blur(8px);
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
    }
    
    .a11y-toggle:hover {
      background: rgba(255, 255, 255, 0.18);
      border-color: rgba(255, 255, 255, 0.5);
      box-shadow: 0 2px 20px rgba(255, 255, 255, 0.15);
    }
    
    .a11y-toggle svg {
      width: 26px;
      height: 26px;
      transition: all 0.3s ease;
    }
    
    .a11y-toggle:hover svg {
      opacity: 1;
    }
    
    .a11y-toggle.active {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.5);
      box-shadow: 0 2px 20px rgba(255, 255, 255, 0.15);
    }

    .a11y-panel {
      position: fixed;
      left: 30px;
      bottom: 85px;
      z-index: 1999;
      background: rgba(10, 10, 20, 0.92);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 14px;
      padding: 20px 18px;
      width: 200px;
      opacity: 0;
      pointer-events: none;
      transform: translateX(-10px);
      transition: all 0.3s ease;
    }
    
    .a11y-panel.open {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(46px);
    }
    
    .a11y-panel-title {
      font-family: 'Inter', sans-serif;
      font-size: 11px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.5);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 14px;
    }
    
    .a11y-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      padding: 8px 10px;
      background: none;
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 8px;
      color: rgba(255, 255, 255, 0.7);
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-bottom: 6px;
    }
    
    .a11y-btn:last-child {
      margin-bottom: 0;
    }
    
    .a11y-btn:hover {
      background: rgba(255, 255, 255, 0.08);
      color: #fff;
      border-color: rgba(255, 255, 255, 0.15);
    }
    
    .a11y-btn.active {
      background: rgba(255, 255, 255, 0.12);
      color: #fff;
      border-color: rgba(255, 255, 255, 0.25);
    }
    
    .a11y-btn svg {
      width: 16px;
      height: 16px;
      stroke: currentColor;
      fill: none;
      stroke-width: 1.5;
      flex-shrink: 0;
    }
    
    .a11y-btn-reset {
      margin-top: 10px;
      border-color: rgba(255, 100, 100, 0.2);
      color: rgba(255, 100, 100, 0.7);
    }
    
    .a11y-btn-reset:hover {
      background: rgba(255, 100, 100, 0.1);
      color: rgba(255, 100, 100, 1);
      border-color: rgba(255, 100, 100, 0.3);
    }

    /* Accessibility States */
    
    body.a11y-high-contrast {
      filter: contrast(1.5);
    }
    
    body.a11y-grayscale {
      filter: grayscale(1);
    }
    
    body.a11y-high-contrast.a11y-grayscale {
      filter: contrast(1.5) grayscale(1);
    }
    
    body.a11y-highlight-links a,
    body.a11y-highlight-links [role="link"],
    body.a11y-highlight-links .planet-nav-item,
    body.a11y-highlight-links .timeline-nav-point {
      outline: 2px solid #ffff00 !important;
      outline-offset: 2px;
    }
    
    body.a11y-big-cursor,
    body.a11y-big-cursor * {
      cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Cpath d='M5 2l20 14-10 2 6 12-4 2-6-12-6 8z' fill='white' stroke='black' stroke-width='1'/%3E%3C/svg%3E") 5 2, auto !important;
    }

    @media (max-width: 768px) {
      .a11y-toggle {
        left: 16px;
        bottom: 65px;
        width: 40px;
        height: 40px;
      }
      .a11y-panel {
        left: 16px;
        bottom: 65px;
        width: 180px;
        padding: 16px 14px;
      }
      .a11y-panel.open {
        transform: translateX(38px);
      }
    }
  </style>
</head>
<body>
  <!-- Language Toggle -->
  <button class="lang-toggle" id="lang-toggle">HE</button>

  <!-- Accessibility Menu -->
  <button class="a11y-toggle" id="a11y-toggle" aria-label="Accessibility menu">
    <svg viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.8)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="11" cy="4" r="2"/>
      <path d="M11 7v5h6l2 5"/>
      <path d="M11 12H8"/>
      <circle cx="8" cy="19" r="3" fill="none"/>
      <path d="M14 19h3"/>
    </svg>
  </button>
  
  <div class="a11y-panel" id="a11y-panel">
    <div class="a11y-panel-title">Accessibility</div>
    
    <button class="a11y-btn" data-action="font-increase">
      <svg viewBox="0 0 24 24"><path d="M4 20h8l-4-16-4 16z"/><line x1="6" y1="15" x2="10" y2="15"/><line x1="17" y1="10" x2="17" y2="18"/><line x1="13" y1="14" x2="21" y2="14"/></svg>
      Increase Text
    </button>
    
    <button class="a11y-btn" data-action="font-decrease">
      <svg viewBox="0 0 24 24"><path d="M4 20h8l-4-16-4 16z"/><line x1="6" y1="15" x2="10" y2="15"/><line x1="13" y1="14" x2="21" y2="14"/></svg>
      Decrease Text
    </button>
    
    <button class="a11y-btn" data-action="high-contrast">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 2a10 10 0 0 1 0 20V2z" fill="currentColor"/></svg>
      High Contrast
    </button>
    
    <button class="a11y-btn" data-action="grayscale">
      <svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="3"/><line x1="3" y1="12" x2="21" y2="12"/></svg>
      Grayscale
    </button>
    
    <button class="a11y-btn" data-action="highlight-links">
      <svg viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
      Highlight Links
    </button>
    
    <button class="a11y-btn" data-action="big-cursor">
      <svg viewBox="0 0 24 24"><path d="M5 2l14 10-7 1.5 4 8.5-3 1.5-4-8.5L5 20V2z"/></svg>
      Big Cursor
    </button>
    
    <button class="a11y-btn a11y-btn-reset" data-action="reset">
      <svg viewBox="0 0 24 24"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/></svg>
      Reset All
    </button>
  </div>

  <!-- Left Section Navigation -->
  <div class="section-nav" id="section-nav">
    <div class="section-nav-item active" data-section="bigbang" data-scroll="0.10">
      <div class="section-nav-icon">
        <svg viewBox="0 0 50 50" width="35" height="35">
          <circle cx="25" cy="25" r="8" fill="#fff" opacity="0.9"/>
          <circle cx="25" cy="25" r="15" fill="none" stroke="#fff" stroke-width="1" opacity="0.4"/>
          <circle cx="25" cy="25" r="22" fill="none" stroke="#fff" stroke-width="0.5" opacity="0.2"/>
          <line x1="25" y1="3" x2="25" y2="10" stroke="#fff" stroke-width="1" opacity="0.5"/>
          <line x1="25" y1="40" x2="25" y2="47" stroke="#fff" stroke-width="1" opacity="0.5"/>
          <line x1="3" y1="25" x2="10" y2="25" stroke="#fff" stroke-width="1" opacity="0.5"/>
          <line x1="40" y1="25" x2="47" y2="25" stroke="#fff" stroke-width="1" opacity="0.5"/>
        </svg>
      </div>
      <span class="section-nav-label">The Big Bang</span>
    </div>
    
    <div class="section-nav-item" data-section="blackhole" data-scroll="0.40">
      <div class="section-nav-icon">
        <svg viewBox="0 0 50 50" width="35" height="35">
          <circle cx="25" cy="25" r="10" fill="#000" stroke="#fff" stroke-width="1"/>
          <ellipse cx="25" cy="25" rx="20" ry="8" fill="none" stroke="#fff" stroke-width="1" opacity="0.6" transform="rotate(-20 25 25)"/>
          <ellipse cx="25" cy="25" rx="18" ry="6" fill="none" stroke="#fff" stroke-width="0.5" opacity="0.3" transform="rotate(-20 25 25)"/>
        </svg>
      </div>
      <span class="section-nav-label">Black Hole</span>
    </div>
    
    <div class="section-nav-item" data-section="galaxy" data-scroll="0.68">
      <div class="section-nav-icon">
        <svg viewBox="0 0 50 50" width="35" height="35">
          <ellipse cx="25" cy="25" rx="20" ry="8" fill="none" stroke="#fff" stroke-width="1" opacity="0.7" transform="rotate(-30 25 25)"/>
          <ellipse cx="25" cy="25" rx="15" ry="5" fill="none" stroke="#fff" stroke-width="0.8" opacity="0.5" transform="rotate(-30 25 25)"/>
          <ellipse cx="25" cy="25" rx="10" ry="3" fill="none" stroke="#fff" stroke-width="0.5" opacity="0.4" transform="rotate(-30 25 25)"/>
          <circle cx="25" cy="25" r="3" fill="#fff" opacity="0.8"/>
        </svg>
      </div>
      <span class="section-nav-label">Galaxy</span>
    </div>
    
    <div class="section-nav-item" data-section="planets" data-scroll="0.88">
      <div class="section-nav-icon">
        <svg viewBox="0 0 50 50" width="35" height="35">
          <circle cx="25" cy="25" r="15" fill="#4a90d9"/>
          <ellipse cx="25" cy="20" rx="12" ry="6" fill="#6ab04c" opacity="0.7"/>
          <ellipse cx="25" cy="32" rx="10" ry="4" fill="#6ab04c" opacity="0.5"/>
          <circle cx="30" cy="18" r="3" fill="#fff" opacity="0.3"/>
        </svg>
      </div>
      <span class="section-nav-label">Planets</span>
    </div>
  </div>

  <!-- Vertical Timeline Navigation -->
  <div class="timeline-nav" id="timeline-nav">
    <div class="timeline-nav-line"></div>
    <div class="timeline-nav-progress" id="timeline-nav-progress"></div>
    <div class="timeline-nav-points">
      <div class="timeline-nav-point active" data-scroll="0">
        <span class="timeline-nav-label">The Big Bang</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.07">
        <span class="timeline-nav-label">13.7B Years Ago</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.25">
        <span class="timeline-nav-label">From Energy to Stars</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.30">
        <span class="timeline-nav-label">Black Holes</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.37">
        <span class="timeline-nav-label">13.2B Years Ago</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.50">
        <span class="timeline-nav-label">The Dark Core</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.64">
        <span class="timeline-nav-label">Galaxy</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.73">
        <span class="timeline-nav-label">10.8B Years Ago</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.85">
        <span class="timeline-nav-label">Architecture of the Universe</span>
        <div class="timeline-nav-dot"></div>
      </div>
      <div class="timeline-nav-point" data-scroll="0.92">
        <span class="timeline-nav-label">Solar System</span>
        <div class="timeline-nav-dot"></div>
      </div>
    </div>
  </div>

  <div class="bg">
    <div class="bg-inner"></div>
  </div>
  
  <!-- Milky Way Background -->
  <div class="milkyway-bg" id="milkyway-bg"></div>
  <div class="gray-milkyway-bg" id="gray-milkyway-bg"></div>
  <div class="purple-galaxy-bg" id="purple-galaxy-bg"></div>
  <div class="planets-bg" id="planets-bg"></div>
  
  <!-- Scroll Frames (0.37-0.56) -->
  <img class="scroll-frames" id="scroll-frames" src="assets/video-frames/ezgif-frame-001.png" alt="">
  
  <!-- Galaxy Scroll Frames (0.63-0.85) -->
  <img class="scroll-frames" id="galaxy-scroll-frames" src="assets/galaxy-frames/ezgif-frame-001.png" alt="">
  
  <!-- Black Hole section - placeholder for future content -->
  
  <!-- Solar System Section -->
  <div class="solar-system-section" id="solar-system-section">
    <!-- Orbital rings -->
    <div class="orbit-rings">
      <div class="orbit-ring"></div>
      <div class="orbit-ring"></div>
      <div class="orbit-ring"></div>
      <div class="orbit-ring"></div>
      <div class="orbit-ring"></div>
      <div class="orbit-ring"></div>
      <div class="orbit-ring"></div>
    </div>
    <!-- Top navigation -->
    <nav class="planet-nav">
      <span class="planet-nav-item" data-planet="saturn">Saturn</span>
      <span class="planet-nav-item" data-planet="uranus">Uranus</span>
      <span class="planet-nav-item" data-planet="neptune">Neptune</span>
      <span class="planet-nav-item" data-planet="pluto">Pluto</span>
      <span class="planet-nav-item" data-planet="moon">Moon</span>
      <span class="planet-nav-item active" data-planet="sun">The Sun</span>
      <span class="planet-nav-item" data-planet="mercury">Mercury</span>
      <span class="planet-nav-item" data-planet="venus">Venus</span>
      <span class="planet-nav-item" data-planet="earth">Earth</span>
      <span class="planet-nav-item" data-planet="mars">Mars</span>
      <span class="planet-nav-item" data-planet="jupiter">Jupiter</span>
    </nav>
    
    <!-- Navigation arrows -->
    <div class="nav-arrow prev" id="planet-prev" style="display:none !important">&#8249;</div>
    <div class="nav-arrow next" id="planet-next" style="display:none !important">&#8250;</div>
    
    <!-- Main display area -->
    <!-- Stats bar above title -->
    <div class="planet-stats-bar" id="planet-stats-bar">
      <div class="planet-info-item">
        <span class="planet-info-label">Planet Type</span>
        <span class="planet-info-value" id="info-type">Star</span>
      </div>
      <div class="planet-info-item">
        <span class="planet-info-label">Diameter</span>
        <span class="planet-info-value" id="info-diameter">1,392,700 km</span>
      </div>
      <div class="planet-info-item">
        <span class="planet-info-label">Avg Temperature</span>
        <span class="planet-info-value" id="info-temp">5,500°C</span>
      </div>
      <div class="planet-info-item">
        <span class="planet-info-label">Climate</span>
        <span class="planet-info-value" id="info-climate">Extreme plasma environment</span>
      </div>
    </div>

    <div class="planet-display">
      <!-- Planet image with title overlay -->
      <div class="planet-image-container">
        <video src="assets/sun-video.mp4" autoplay loop muted playsinline class="planet-main-image" id="planet-image"></video>
        <div class="planet-hotspot" id="planet-hotspot"></div>
        <div class="planet-hotspot-tooltip" id="planet-hotspot-tooltip">
          <button class="tooltip-close" id="tooltip-close">&times;</button>
          <div class="tooltip-inner">
            <video class="tooltip-video" id="tooltip-video" autoplay loop muted playsinline>
              <source src="assets/sun-hotspot-video.mp4" type="video/mp4">
            </video>
            <p class="tooltip-text" id="tooltip-text">This video presents a scientific visualization of the Sun's internal structure. The outer layers separate to reveal the core, where nuclear fusion occurs. Inside the Sun, extreme temperature and pressure enable hydrogen atoms to fuse into helium, releasing vast amounts of energy. The animation illustrates plasma flow, magnetic activity, and energy transport within the Sun in a simplified, conceptual form.</p>
          </div>
        </div>
        <div class="planet-title-overlay" id="planet-title-overlay">THE SUN</div>
      </div>
      
      <!-- Planet info -->
      <div class="planet-info">
        <div class="planet-info-row">
          <div class="planet-info-item">
            <span class="planet-info-label">Day Length</span>
            <span class="planet-info-value" id="info-day">25 days (equator) /<br>35 days (poles)</span>
          </div>
        </div>
        <p class="planet-description" id="planet-description">
          The Sun is the star at the center of our Solar System. It is a nearly perfect ball of hot plasma, heated to incandescence by nuclear fusion reactions in its core. The Sun radiates energy mainly as visible light and infrared radiation, and is the most important source of energy for life on Earth.
        </p>
      </div>
    </div>

    <!-- Floating planets -->
    <div class="red-planet-float">
      <img src="assets/red-planet.png" alt="Red Planet">
    </div>
    <div class="purple-planet-float">
      <img src="assets/purple-planet.png" alt="Purple Planet">
    </div>
    <div class="blue-planet-float">
      <img src="assets/blue-planet.png" alt="Blue Planet">
    </div>
    <div class="gold-planet-float">
      <img src="assets/gold-planet.png" alt="Gold Planet">
    </div>

    <!-- Corner planet (next planet preview) -->
    <div class="mercury-corner-wrapper" id="corner-planet-wrapper">
      <span class="mercury-corner-label" id="corner-planet-label">MERCURY</span>
      <div class="mercury-corner">
        <img src="assets/mercury.png" alt="Mercury" id="corner-planet-img">
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <footer class="site-footer" id="site-footer">
    <div class="footer-content">
      <div class="footer-brand">
        <div class="footer-logo">ORIGIN</div>
        <p class="footer-tagline">Exploring the universe from the Big Bang to the stars that guide us today.</p>
        <div class="footer-social">
          <a href="#" title="Twitter">𝕏</a>
          <a href="#" title="Instagram">◐</a>
          <a href="#" title="YouTube">▶</a>
        </div>
      </div>
      
      <div class="footer-links">
        <div class="footer-column">
          <h4>Explore</h4>
          <ul>
            <li><a href="#">The Big Bang</a></li>
            <li><a href="#">Black Holes</a></li>
            <li><a href="#">Galaxies</a></li>
            <li><a href="#">Solar System</a></li>
            <li><a href="#">Constellations</a></li>
          </ul>
        </div>
        
        <div class="footer-column">
          <h4>Learn</h4>
          <ul>
            <li><a href="#">Timeline</a></li>
            <li><a href="#">Glossary</a></li>
            <li><a href="#">Resources</a></li>
            <li><a href="#">FAQ</a></li>
          </ul>
        </div>
        
        <div class="footer-column">
          <h4>About</h4>
          <ul>
            <li><a href="#">Our Mission</a></li>
            <li><a href="#">Team</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Privacy</a></li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p class="footer-copyright">© 2026 Origin. All rights reserved. Made with ✦ among the stars.</p>
    </div>
  </footer>
  
  <!-- Music Player -->
  <div class="music-player" id="music-player">
    <div class="music-player-container">
      <div class="music-icon-svg" id="music-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
          <path class="sound-wave-1" d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
          <path class="sound-wave-2" d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
        </svg>
      </div>
    </div>
    <span class="music-label">Sound On</span>
  </div>
  <audio id="background-music" loop>
    <source src="assets/background-music.mp3" type="audio/mpeg">
  </audio>
  
  <!-- Black Holes Section -->
  <div class="blackholes-text" id="blackholes-text">
    <h1 class="blackholes-title">BLACK HOLES</h1>
    <p class="blackholes-subtitle">A black hole is a region in space where the force of gravity is so strong, not even light—the fastest known entity in our universe—can escape. The boundary of a black hole is called the event horizon, a point of no return beyond which we truly cannot see.</p>
  </div>
  
  <!-- Timeline 2 - 13.2B Years Ago (hidden) -->
  <div class="timeline-text" id="timeline-2" style="display:none;"></div>
  

  <!-- Logo -->
  <div class="logo-container">
    <img class="logo-image" src="assets/logo.png" alt="Origin Exploration Logo">
  </div>

  <!-- Hero Text -->
  <div class="hero-text">
    <h1 class="hero-title">THE BIG BANG</h1>
    <p class="hero-subtitle">The Big Bang Theory states that the universe began as a hot and<br>infinitely dense point only a few millimeters wide. It was similar to a<br>supercharged black hole about 13.7 billion years ago.</p>
  </div>

  <!-- Black Holes Section Text -->
  <div class="blackhole-text" id="blackhole-text">
    <h1 class="hero-title">BLACK HOLES</h1>
    <p class="hero-subtitle">A black hole is a region in space where the force of gravity is so strong,<br>not even light—the fastest known entity in our universe—can escape.<br>The boundary of a black hole is called the event horizon, a point of no return beyond which we truly cannot see.</p>
  </div>

  <!-- Galaxy Section Text -->
  <div class="galaxy-text" id="galaxy-text">
    <h1 class="galaxy-title">GALAXY</h1>
    <p class="galaxy-subtitle">A galaxy is a gravitationally bound system of stars, stellar remnants,<br>interstellar gas, dust, and dark matter. The word is derived from the Greek<br>galaxias, literally meaning "milky," a reference to our own Milky Way galaxy.</p>
  </div>
  
  <!-- Galaxy Timeline Text -->
  <div class="timeline-text" id="timeline-galaxy">
    <div class="timeline-layout">
      <h2 class="timeline-title">10.8B<br>YEARS<br>AGO</h2>
      <div class="timeline-content">
        <p class="timeline-description">
          The first galaxies began to form, as gravity pulled together vast clouds of hydrogen gas left over from the Big Bang. These early galaxies were small and irregular, merging over billions of years to form the majestic spirals and ellipticals we see today.
        </p>
      </div>
    </div>
  </div>

  <!-- Scroll hint -->
  <div class="scroll-hint-bottom">Scroll to start</div>

  <!-- Timeline text sections -->
  <div class="timeline-text" id="timeline-1">
    <div class="timeline-layout">
      <h2 class="timeline-title">13.7B<br>YEARS<br>AGO</h2>
      <div class="timeline-content">
        <p class="timeline-description">
          This tiny singularity violently exploded, and it is from this explosion—this "bang"—that all matter, energy, space, and time were created.
        </p>
        <p class="timeline-description">
          What happened next were two major stages of the universe's evolution called the radiation and matter eras. They're defined by key events that help shape the universe.
        </p>
      </div>
    </div>
  </div>
  
  <!-- Timeline 3 - Copy of Timeline 2 (13.2B, חור שחור) at 0.37 -->
  <div class="timeline-text" id="timeline-3">
    <div class="timeline-layout">
      <h2 class="timeline-title">13.2B<br>YEARS<br>AGO</h2>
      <div class="timeline-content">
        <p class="timeline-description">
          A black hole is a region in space where the force of gravity is so strong, not even light—the fastest known entity in our universe—can escape. The boundary of a black hole is called the event horizon, a point of no return beyond which we truly cannot see.
        </p>
      </div>
    </div>
  </div>

  <!-- Interactive Space Hotspots -->
  <!-- Original Explosion Hotspots -->
  <div class="explosion-hotspots" id="explosion-hotspots">
    <div class="explosion-section-title">From Energy to Stars</div>
    <!-- Hotspot 1 - Planck Epoch (למעלה שמאל) -->
    <div class="hotspot" id="hotspot-1" style="top: 20%; left: 22%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: 15px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/planck-epoch.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Planck Epoch</h4>
            <p>The earliest is the Planck epoch. No matter existed in the universe at this time — only energy and the ancestor to the four forces of nature, the "super force." At the end of this stage, however, a key event occurred in which gravity split away from the super force.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 2 - Grand Unification Epoch (ימין) -->
    <div class="hotspot" id="hotspot-2" style="top: 45%; left: 78%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: -540px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/grand-unification.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Grand Unification Epoch</h4>
            <p>Next came the Grand Unification epoch, named for the three remaining unified forces of nature. This epoch ended when one of those forces, called "strong," broke away.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 3 - Inflationary Epoch (למטה שמאל) -->
    <div class="hotspot" id="hotspot-3" style="top: 75%; left: 25%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -220px; left: 15px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/inflationary-epoch.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Inflationary Epoch</h4>
            <p>Then the inflationary epoch began, during which the universe rapidly expanded. Almost instantly, it grew from the size of an atom to the size of a grapefruit. The universe at this time was piping hot and it churned with electrons, quarks, and other particles.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 4 - Quark Epoch (מרכז למעלה שמאלה) -->
    <div class="hotspot" id="hotspot-4" style="top: 30%; left: 38%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: 15px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/quark-epoch.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Quark Epoch</h4>
            <p>During the next stage, the quark epoch, all of the universe's ingredients were present. However, the universe was still too hot and dense for subatomic particles to form.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 5 - Hadron Epoch (למטה ימין) -->
    <div class="hotspot" id="hotspot-5" style="top: 78%; left: 72%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -220px; left: -540px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/hadron-epoch.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Hadron Epoch</h4>
            <p>Then, in the Hadron epoch, the universe cooled down enough for quarks to bind together and form protons and neutrons.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 6 - Radiation Era (למעלה ימין) -->
    <div class="hotspot" id="hotspot-6" style="top: 18%; left: 70%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: -540px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/radiation-era.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Radiation Era</h4>
            <p>First came the radiation era, named for the dominance of radiation right after the Big Bang. This era is made of smaller stages called epochs that occurred within the universe's first tens of thousands of years.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 7 - Lepton & Nuclear Epochs (שמאל) -->
    <div class="hotspot" id="hotspot-7" style="top: 48%; left: 18%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -220px; left: 15px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/lepton-nuclear-epochs.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Lepton & Nuclear Epochs</h4>
            <p>In the lepton and nuclear epochs — the radiation era's last two stages — the protons and neutrons underwent a significant change. They fused and created nuclei, and in doing so, they created the first chemical element in the universe: helium.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 8 - Formation of Atoms & Gas Clouds (מרכז למטה) -->
    <div class="hotspot" id="hotspot-8" style="top: 65%; left: 48%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -220px; left: -270px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/atoms-gas-clouds.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Formation of Atoms & Gas Clouds</h4>
            <p>This hydrogen, along with helium atoms, dotted the universe with atomic clouds. Within the clouds, small pockets of gas may have had enough gravity to cause atoms to collect.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 9 - Galactic & Stellar Epoch (מרכז ימינה) -->
    <div class="hotspot" id="hotspot-9" style="top: 50%; left: 62%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -220px; left: -540px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/galactic-stellar-epoch.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>The Galactic Epoch & Stellar Epoch</h4>
            <p>These clusters of atoms formed during the Galactic epoch became the seedlings of galaxies. Nestled inside those galaxies, stars began to form, and in doing so, they cued the latest and current stage of the universe's development: the stellar epoch.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Black Hole Hotspots -->
  <div class="explosion-hotspots" id="blackhole-hotspots">
    <div class="explosion-section-title">The Dark Core of the Cosmos</div>
    <!-- Hotspot 1 - Sagittarius A* (top-center) -->
    <div class="hotspot" style="top: 15%; left: 38%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: 15px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/sagittarius-a-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Sagittarius A*</h4>
            <p>Sagittarius A*, the supermassive black hole at the center of the Milky Way, has a mass of roughly 4 million suns and has a diameter about the distance between the Earth and our sun.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 2 - How Scientists Study Black Holes (far right) -->
    <div class="hotspot" style="top: 45%; left: 82%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -60px; left: -555px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/how-scientists-study-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>How Scientists Study Black Holes</h4>
            <p>Because black holes are invisible, the only way for scientists to detect and study them is to observe their effect on nearby matter.</p>
            <p>Quasars – jets of particles that blast out of supermassive black holes.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 3 - Accretion Disks (bottom-right) -->
    <div class="hotspot" style="top: 78%; left: 60%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -240px; left: -555px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/accretion-disk-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>How Scientists Study Black Holes</h4>
            <p>Because black holes are invisible, the only way for scientists to detect and study them is to observe their effect on nearby matter.</p>
            <p>Accretion disks – disks of particles that form when gases and dust fall toward a black hole.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 4 - Types of Black Holes (far left) -->
    <div class="hotspot" style="top: 32%; left: 15%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -60px; left: 30px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/types-blackholes-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Types of Black Holes</h4>
            <p>Scientists have theorized several different types of black holes, with stellar and supermassive black holes being the most common.</p>
            <p>Stellar black holes form when massive stars die and collapse. They're roughly 10 to 20 times the mass of our sun and scattered throughout the universe. There could be millions of these stellar black holes in the Milky Way alone.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 5 - What is a Black Hole (top far-right) -->
    <div class="hotspot" style="top: 20%; left: 75%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: -555px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/what-is-blackhole-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>What is a Black Hole</h4>
            <p>Supermassive black holes are giants by comparison, measuring millions, even billions of times more massive than our sun. They exist at the center of just about every large galaxy, including our own.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 6 - History & Discovery (left-center) -->
    <div class="hotspot" style="top: 58%; left: 18%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -240px; left: 30px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/history-discovery-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>History & Discovery</h4>
            <p>Black holes remained largely unknown until the 20th century. In 1916, using Einstein's general theory of relativity, a German physicist named Karl Schwarzschild calculated that any mass could become a black hole if it were compressed tightly enough.</p>
            <p>But it wasn't until 1971, when theory became reality, that astronomers studying the constellation Cygnus discovered the first black hole.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 7 - Types of Black Holes (bottom-left) -->
    <div class="hotspot" style="top: 80%; left: 30%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -240px; left: 30px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/types-blackholes2-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Types of Black Holes</h4>
            <p>Scientists have theorized several different types of black holes, with stellar and supermassive black holes being the most common.</p>
            <p>Stellar black holes form when massive stars die and collapse. They're roughly 10 to 20 times the mass of our sun and scattered throughout the universe. There could be millions of these stellar black holes in the Milky Way alone.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Galaxy Hotspots (Third Set) -->
  <div class="explosion-hotspots" id="galaxy-hotspots">
    <div class="explosion-section-title">The Architecture of the Universe</div>
    <!-- Hotspot 1 - Elliptical Galaxies (top-left) -->
    <div class="hotspot" style="top: 18%; left: 20%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: 15px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/elliptical-galaxies-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Elliptical Galaxies</h4>
            <p>Elliptical galaxies are smooth and rounded or elongated in shape. They contain mostly older stars and show little new star formation.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 2 - Spiral Galaxies (bottom-center) -->
    <div class="hotspot" style="top: 88%; left: 48%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -240px; left: -270px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/spiral-galaxies-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Spiral Galaxies</h4>
            <p>Spiral galaxies have flat disk shapes with rotating spiral arms rich in gas, dust, and active star formation — like the Milky Way.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 3 - Irregular Galaxies (top-right) -->
    <div class="hotspot" style="top: 15%; left: 78%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: -555px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/irregular-galaxies-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Irregular Galaxies</h4>
            <p>Irregular galaxies have no defined shape. Their chaotic structure is often caused by gravitational interactions or past collisions.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 4 - Galactic Transformation (far left) -->
    <div class="hotspot" style="top: 55%; left: 18%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -60px; left: 30px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/galactic-transformation-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Galactic Transformation</h4>
            <p>Galaxies can change type over time due to collisions, mergers, and gravitational forces.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 5 - Our Galaxy: The Milky Way (bottom-right) -->
    <div class="hotspot" style="top: 78%; left: 72%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -240px; left: -555px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/milky-way-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Our Galaxy: The Milky Way</h4>
            <p>The Milky Way is a barred spiral galaxy, home to hundreds of billions of stars, including our solar system.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 6 - Galaxy Formation & Evolution (right) -->
    <div class="hotspot" style="top: 35%; left: 88%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -60px; left: -555px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/galaxy-formation-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Galaxy Formation & Evolution</h4>
            <p>Galaxies form over billions of years from gas and dust, evolving through collisions and mergers that reshape their structure and influence star formation.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 7 - Cosmic Scale (bottom-left) -->
    <div class="hotspot" style="top: 82%; left: 25%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: -240px; left: 30px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/cosmic-scale-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>Cosmic Scale</h4>
            <p>The observable universe contains hundreds of billions to trillions of galaxies, organized into vast clusters and superclusters.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Hotspot 8 - A Living Universe (top-center) -->
    <div class="hotspot" style="top: 12%; left: 50%;">
      <div class="hotspot-tooltip hotspot-tooltip-video" style="top: 30px; left: -270px;">
        <button class="close-btn">&times;</button>
        <div class="tooltip-content-row">
          <video class="hotspot-video" loop muted playsinline preload="none">
            <source src="assets/living-universe-hotspot.mp4" type="video/mp4">
          </video>
          <div class="tooltip-text">
            <h4>A Living Universe</h4>
            <p>Galaxies are not static — they continuously move, interact, and evolve over cosmic time.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="scroll-progress">
    <div class="progress-bar"></div>
  </div>

  <div class="scroll-space"></div>

  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
  <script src="main.js"></script>
  <script>
    // Force autoplay the sun video
    (function() {
      const vid = document.getElementById('planet-image');
      if (vid && vid.tagName === 'VIDEO') {
        vid.muted = true;
        vid.play().catch(function() {});
        document.addEventListener('click', function autoplayFix() {
          vid.play().catch(function() {});
          document.removeEventListener('click', autoplayFix);
        });
      }
    })();

    // Update scroll progress bar
    function updateProgressBar() {
      const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrolled = window.scrollY;
      const progress = (scrolled / scrollHeight) * 100;
      document.querySelector('.progress-bar').style.width = progress + '%';
    }

    // Show/hide sections based on scroll
    function updateSections() {
      const sections = document.querySelectorAll('.section');
      const scrollY = window.scrollY;
      const windowHeight = window.innerHeight;

      sections.forEach((section, index) => {
        const sectionTop = section.offsetTop;
        const sectionBottom = sectionTop + section.offsetHeight;
        const isVisible = scrollY + windowHeight * 0.6 > sectionTop && scrollY < sectionBottom;
        
        if (isVisible) {
          section.classList.add('visible');
        } else {
          section.classList.remove('visible');
        }
      });

      // Fade out initial UI as user scrolls - based on scroll percentage
      const ui = document.querySelector('.ui');
      const heroText = document.querySelector('.hero-text');
      const scrollHint = document.querySelector('.scroll-hint-bottom');
      const logoContainer = document.querySelector('.logo-container');
      
      const maxScroll = document.documentElement.scrollHeight - windowHeight;
      const scrollPercent = scrollY / maxScroll; // 0 to 1
      
      // Hero text fades when clusters are formed (6% to 10%)
      const heroFadeStart = 0.06;
      const heroFadeEnd = 0.10;
      const heroFadeProgress = Math.min(1, Math.max(0, (scrollPercent - heroFadeStart) / (heroFadeEnd - heroFadeStart)));
      
      // Scroll hint fades earlier (3% to 6%)
      const hintFadeStart = 0.03;
      const hintFadeEnd = 0.06;
      const hintFadeProgress = Math.min(1, Math.max(0, (scrollPercent - hintFadeStart) / (hintFadeEnd - hintFadeStart)));
      
      // Logo fades with hero text (6% to 10%)
      const logoFadeStart = 0.06;
      const logoFadeEnd = 0.10;
      const logoFadeProgress = Math.min(1, Math.max(0, (scrollPercent - logoFadeStart) / (logoFadeEnd - logoFadeStart)));
      
      if (ui) ui.style.opacity = 1 - heroFadeProgress;
      if (heroText) heroText.style.opacity = 1 - heroFadeProgress;
      if (scrollHint) scrollHint.style.opacity = 1 - hintFadeProgress;
      if (logoContainer) logoContainer.style.opacity = 1 - logoFadeProgress;

      // Timeline text animations - continuous scroll reveal
      const timeline1 = document.getElementById('timeline-1');
      
      // Timeline 1 appears when clusters are formed - faster scroll (7% to 16%)
      const timeline1Start = 0.07;
      const timeline1End = 0.16;
      
      if (scrollPercent >= timeline1Start && scrollPercent <= timeline1End) {
        // Calculate progress within this range (0 to 1)
        const progress = (scrollPercent - timeline1Start) / (timeline1End - timeline1Start);
        
        // Start from below screen (100vh) and move up
        const translateY = 100 - (progress * 170); // Moves from 100vh to -70vh
        const opacity = progress < 0.05 ? progress * 20 : (progress > 0.85 ? (1 - progress) * 6.67 : 1);
        
        timeline1.style.transform = `translateY(${translateY}vh)`;
        timeline1.style.opacity = opacity;
      } else if (scrollPercent < timeline1Start) {
        // Before the range - hide below screen
        timeline1.style.transform = 'translateY(100vh)';
        timeline1.style.opacity = '0';
      } else {
        // After the range - hide above screen
        timeline1.style.transform = 'translateY(-150vh)';
        timeline1.style.opacity = '0';
      }
      
      // Timeline 3 - גלילה בלבד (בלי אפקט שאיבה)
      const timeline3 = document.getElementById('timeline-3');
      
      const timeline3Start = 0.37;
      const timeline3End = 0.50;
      
      if (scrollPercent >= timeline3Start && scrollPercent <= timeline3End) {
        const progress = (scrollPercent - timeline3Start) / (timeline3End - timeline3Start);
        // נכנס מלמטה, עובר במסך, יוצא למעלה – יותר גבוה במסך
        const offsetDownVh = 15; // תיבה גבוהה יותר במסך
        const translateY = (100 + offsetDownVh) - (progress * 160);
        const opacity = progress < 0.05 ? progress * 20 : (progress > 0.9 ? (1 - progress) * 10 : 1);
        
        timeline3.style.top = '';
        timeline3.style.bottom = '0px';  // צמוד לתחתית
        timeline3.style.left = '';
        timeline3.style.transform = `translateY(${translateY}vh)`;
        timeline3.style.opacity = opacity;
        timeline3.style.filter = 'blur(0px)';
      } else if (scrollPercent < timeline3Start) {
        timeline3.style.top = '';
        timeline3.style.bottom = '0px';
        timeline3.style.left = '';
        timeline3.style.transform = 'translateY(100vh)';
        timeline3.style.opacity = '0';
        timeline3.style.filter = 'blur(0px)';
      } else {
        timeline3.style.top = '';
        timeline3.style.bottom = '0px';
        timeline3.style.left = '';
        timeline3.style.transform = 'translateY(-150vh)';
        timeline3.style.opacity = '0';
        timeline3.style.filter = 'blur(0px)';
      }
      
      // Timeline 2 - 13.2B YEARS AGO (simple scroll up like Timeline 1)
      const timeline2 = document.getElementById('timeline-2');
      
      const timeline2Start = 0.50;
      const timeline2End = 0.58;
      
      if (scrollPercent >= timeline2Start && scrollPercent <= timeline2End) {
        // Calculate progress within this range (0 to 1)
        const progress = (scrollPercent - timeline2Start) / (timeline2End - timeline2Start);
        
        // Start from below screen (100vh) and move up
        const translateY = 100 - (progress * 170); // Moves from 100vh to -70vh
        const opacity = progress < 0.05 ? progress * 20 : (progress > 0.85 ? (1 - progress) * 6.67 : 1);
        
        timeline2.style.transform = `translateY(${translateY}vh)`;
        timeline2.style.opacity = opacity;
      } else if (scrollPercent < timeline2Start) {
        // Before the range - hide below screen
        timeline2.style.transform = 'translateY(100vh)';
        timeline2.style.opacity = '0';
      } else {
        // After the range - hide above screen
        timeline2.style.transform = 'translateY(-150vh)';
        timeline2.style.opacity = '0';
      }
    }

    window.addEventListener('scroll', () => {
      updateProgressBar();
      updateSections();
      updateHotspots();
    });

    // Initial call
    updateProgressBar();
    updateSections();
    
    // Hotspots functionality - THREE SETS!
    const explosionHotspots = document.getElementById('explosion-hotspots');
    const blackholeHotspots = document.getElementById('blackhole-hotspots');
    const galaxyHotspots = document.getElementById('galaxy-hotspots');
    const hotspots = document.querySelectorAll('.hotspot');
    
    function updateHotspots() {
      const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = window.scrollY / maxScroll;
      
      // Original explosion hotspots (0.25 - 0.28)
      const explosionStart = 0.25;
      const explosionEnd = 0.28;
      
      if (scrollPercent >= explosionStart && scrollPercent <= explosionEnd) {
        explosionHotspots.classList.add('visible');
      } else {
        explosionHotspots.classList.remove('visible');
      }
      
      // Black hole hotspots (0.50 - 0.58, suction from 0.51)
      const blackholeStart = 0.50;
      const blackholeEnd = 0.58;
      const blackholeSuckStart = 0.51;
      
      // Store original positions once
      if (!blackholeHotspots._origPositions) {
        blackholeHotspots._origPositions = [];
        blackholeHotspots.querySelectorAll('.hotspot').forEach(dot => {
          blackholeHotspots._origPositions.push({
            top: parseFloat(dot.style.top),
            left: parseFloat(dot.style.left)
          });
        });
      }
      
      const bhDots = blackholeHotspots.querySelectorAll('.hotspot');
      const origPos = blackholeHotspots._origPositions;
      const bhTitle = blackholeHotspots.querySelector('.explosion-section-title');
      
      if (scrollPercent >= blackholeStart && scrollPercent <= blackholeEnd) {
        blackholeHotspots.classList.add('visible');
        
        if (scrollPercent >= blackholeSuckStart) {
          // 0.51-0.58: slow suction toward center with blur
          const suckProgress = (scrollPercent - blackholeSuckStart) / (blackholeEnd - blackholeSuckStart);
          // easeInCubic - starts very slow, accelerates like gravity
          const eased = suckProgress * suckProgress * suckProgress;
          
          bhDots.forEach((dot, i) => {
            const origTop = origPos[i].top;
            const origLeft = origPos[i].left;
            const newTop = origTop + (50 - origTop) * eased;
            const newLeft = origLeft + (50 - origLeft) * eased;
            const scale = Math.max(0, 1 - eased * 1.2);
            const blurT = Math.max(0, (suckProgress - 0.9) / 0.1); // blur only in last 10%
            const blur = blurT * blurT * 10;
            
            dot.style.top = newTop + '%';
            dot.style.left = newLeft + '%';
            dot.style.transform = `scale(${scale})`;
            dot.style.opacity = Math.max(0, 1 - eased * 1.3);
            dot.style.filter = `blur(${blur}px)`;
          });
          
          if (bhTitle) {
            bhTitle.style.opacity = Math.max(0, 1 - suckProgress * 1.5);
          }
        } else {
          // 0.50-0.51: normal state
          bhDots.forEach((dot, i) => {
            dot.style.top = origPos[i].top + '%';
            dot.style.left = origPos[i].left + '%';
            dot.style.transform = '';
            dot.style.opacity = '';
            dot.style.filter = '';
          });
          if (bhTitle) bhTitle.style.opacity = '';
        }
      } else {
        blackholeHotspots.classList.remove('visible');
        // After suction ends - keep dots at center (hidden), don't snap back
        bhDots.forEach((dot, i) => {
          if (scrollPercent > blackholeEnd) {
            // Already past - keep hidden at center
            dot.style.top = '50%';
            dot.style.left = '50%';
            dot.style.transform = 'scale(0)';
            dot.style.opacity = '0';
            dot.style.filter = 'blur(8px)';
          } else {
            // Before start - restore originals
            dot.style.top = origPos[i].top + '%';
            dot.style.left = origPos[i].left + '%';
            dot.style.transform = '';
            dot.style.opacity = '';
            dot.style.filter = '';
          }
        });
        if (bhTitle) bhTitle.style.opacity = '';
      }
      
      // Galaxy hotspots (0.85 - 0.88) - after timeline text
      const galaxyStart = 0.85;
      const galaxyEnd = 0.88;
      
      if (scrollPercent >= galaxyStart && scrollPercent <= galaxyEnd) {
        galaxyHotspots.classList.add('visible');
      } else {
        galaxyHotspots.classList.remove('visible');
      }
      
      // Close tooltips when all are hidden
      const anyVisible = 
        (scrollPercent >= explosionStart && scrollPercent <= explosionEnd) ||
        (scrollPercent >= blackholeStart && scrollPercent <= blackholeEnd) ||
        (scrollPercent >= galaxyStart && scrollPercent <= galaxyEnd);
      
      if (!anyVisible) {
        document.querySelectorAll('.hotspot-tooltip').forEach(t => t.classList.remove('active'));
      }
    }
    
    // Helper: pause all hotspot videos and play the one in active tooltip
    function pauseAllHotspotVideos() {
      document.querySelectorAll('.hotspot-video').forEach(v => {
        v.pause();
      });
    }
    function playTooltipVideo(tooltip) {
      const video = tooltip.querySelector('.hotspot-video');
      if (video) {
        video.play().catch(() => {});
      }
    }
    
    // Handle hotspot clicks
    hotspots.forEach(hotspot => {
      hotspot.addEventListener('click', (e) => {
        e.stopPropagation();
        const tooltip = hotspot.querySelector('.hotspot-tooltip');
        const isActive = tooltip.classList.contains('active');
        const container = hotspot.closest('.explosion-hotspots');
        
        // Close all other tooltips and pause videos
        document.querySelectorAll('.hotspot-tooltip').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.hotspot').forEach(h => h.classList.remove('active-hotspot'));
        document.querySelectorAll('.explosion-hotspots').forEach(c => c.classList.remove('tooltip-open'));
        pauseAllHotspotVideos();
        
        // Toggle this tooltip
        if (!isActive) {
          tooltip.classList.add('active');
          hotspot.classList.add('active-hotspot');
          if (container) container.classList.add('tooltip-open');
          // Play the video inside this tooltip
          playTooltipVideo(tooltip);
        }
      });
    });
    
    // Handle close buttons
    document.querySelectorAll('.hotspot-tooltip .close-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        btn.closest('.hotspot-tooltip').classList.remove('active');
        document.querySelectorAll('.hotspot').forEach(h => h.classList.remove('active-hotspot'));
        document.querySelectorAll('.explosion-hotspots').forEach(c => c.classList.remove('tooltip-open'));
        pauseAllHotspotVideos();
      });
    });
    
    // Close tooltips when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.hotspot')) {
        document.querySelectorAll('.hotspot-tooltip').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.hotspot').forEach(h => h.classList.remove('active-hotspot'));
        document.querySelectorAll('.explosion-hotspots').forEach(c => c.classList.remove('tooltip-open'));
        pauseAllHotspotVideos();
      }
    });
    
    // Extract h4 titles from tooltips and create hover labels next to dots
    document.querySelectorAll('.hotspot').forEach(hotspot => {
      const h4 = hotspot.querySelector('.tooltip-text h4');
      if (h4) {
        const label = document.createElement('span');
        label.className = 'hotspot-label';
        label.textContent = h4.textContent;
        hotspot.appendChild(label);
        h4.remove();
      }
    });

    // Explosion hotspots - hide others on hover
    const explosionHotspotsEl = document.getElementById('explosion-hotspots');
    if (explosionHotspotsEl) {
      const explosionDots = explosionHotspotsEl.querySelectorAll('.hotspot');
      explosionDots.forEach(dot => {
        dot.addEventListener('mouseenter', () => {
          explosionDots.forEach(d => {
            if (d !== dot) d.style.opacity = '0';
          });
        });
        dot.addEventListener('mouseleave', () => {
          explosionDots.forEach(d => {
            d.style.opacity = '1';
          });
        });
      });
    }
    
    
    // Music Player functionality
    const musicPlayer = document.getElementById('music-player');
    const backgroundMusic = document.getElementById('background-music');
    const musicIcon = document.getElementById('music-icon');
    const musicLabel = musicPlayer.querySelector('.music-label');
    let isPlaying = false;
    
    // Start music on first user interaction (required by browsers)
    function startMusic() {
      if (!isPlaying) {
        backgroundMusic.volume = 0.3;
        backgroundMusic.play().then(() => {
          isPlaying = true;
          musicPlayer.classList.remove('paused');
          musicLabel.textContent = 'Sound On';
        }).catch(e => console.log('Audio play failed:', e));
      }
      // Remove listeners after first interaction
      document.removeEventListener('click', startMusic);
      document.removeEventListener('scroll', startMusic);
    }
    
    // Try to autoplay on user interaction
    document.addEventListener('click', startMusic, { once: true });
    document.addEventListener('scroll', startMusic, { once: true });
    
    // Toggle music on player click
    musicPlayer.addEventListener('click', (e) => {
      e.stopPropagation();
      if (isPlaying) {
        backgroundMusic.pause();
        isPlaying = false;
        musicPlayer.classList.add('paused');
        musicLabel.textContent = 'Sound Off';
      } else {
        backgroundMusic.play().then(() => {
          isPlaying = true;
          musicPlayer.classList.remove('paused');
          musicLabel.textContent = 'Sound On';
        }).catch(e => console.log('Audio play failed:', e));
      }
    });
    
    // Initially paused state
    musicPlayer.classList.add('paused');
    musicLabel.textContent = 'Click to Play';
    
    // Preload all video frames for smooth scroll animation
    const frameCache = [];
    for (let i = 1; i <= 51; i++) {
      const img = new Image();
      img.src = `assets/video-frames/ezgif-frame-${String(i).padStart(3, '0')}.png`;
      frameCache.push(img);
    }
    
    // Preload all galaxy frames immediately for smooth scroll animation
    const galaxyFrameCache = [];
    let galaxyFramesPreloaded = false;
    function preloadGalaxyFrames() {
      if (galaxyFramesPreloaded) return;
      galaxyFramesPreloaded = true;
      for (let i = 1; i <= 51; i++) {
        const img = new Image();
        img.src = `assets/galaxy-frames/ezgif-frame-${String(i).padStart(3, '0')}.png`;
        galaxyFrameCache.push(img);
      }
      console.log('Galaxy frames preloading started');
    }
    // Start preloading galaxy frames after a short delay (don't block initial load)
    setTimeout(preloadGalaxyFrames, 2000);
    
    // Milky Way background control
    const milkywayBg = document.getElementById('milkyway-bg');
    const grayMilkywayBg = document.getElementById('gray-milkyway-bg');
    const purpleGalaxyBg = document.getElementById('purple-galaxy-bg');
    const planetsBg = document.getElementById('planets-bg');
    // const blackholeVideo = document.getElementById('blackhole-video'); // REMOVED
    const blackholesTitle = document.querySelector('.blackholes-title');
    const blackholesSubtitle = document.querySelector('.blackholes-subtitle');
    
    let bhAutoPlayStart = -1;
    
    function updateMilkywayBg() {
      const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = window.scrollY / maxScroll;
      
      // Original Milky way visible from start until 0.29
      if (scrollPercent >= 0.00 && scrollPercent < 0.29) {
        milkywayBg.classList.add('visible');
      } else {
        milkywayBg.classList.remove('visible');
      }
      
      // Purple Milky Way starts at 0.29, extends to cover until purple galaxy takes over
      if (scrollPercent >= 0.29 && scrollPercent < 0.63) {
        grayMilkywayBg.classList.add('visible');
      } else {
        grayMilkywayBg.classList.remove('visible');
      }
      
      // Scroll Frames - כניסה חלקה מ-0.35, אנימציה מלאה מ-0.40 עד 0.56
      const scrollFrames = document.getElementById('scroll-frames');
      const totalFrames = 51;
      
      // Smooth fade in: 0.36-0.40 (overlaps with text fade-out for seamless transition)
      if (scrollPercent >= 0.36 && scrollPercent < 0.40) {
        const t = (scrollPercent - 0.36) / 0.04;
        const eased = 1 - Math.pow(1 - t, 3);
        
        scrollFrames.style.opacity = eased;
        const scale = 0.92 + (eased * 0.08);
        const blur = (1 - eased) * 5;
        scrollFrames.style.transform = `translate(-50%, -50%) scale(${scale})`;
        scrollFrames.style.filter = `blur(${blur}px)`;
        scrollFrames.src = 'assets/video-frames/ezgif-frame-001.png';
        grayMilkywayBg.classList.remove('visible');
        milkywayBg.classList.remove('visible');
      }
      // Part 1 - Scroll: 0.40-0.50 (frames 1-25)
      else if (scrollPercent >= 0.40 && scrollPercent < 0.50) {
        scrollFrames.style.opacity = 1;
        scrollFrames.style.transform = 'translate(-50%, -50%) scale(1)';
        scrollFrames.style.filter = 'blur(0px)';
        scrollFrames.classList.add('visible');
        grayMilkywayBg.classList.remove('visible');
        milkywayBg.classList.remove('visible');
        const bgEl = document.querySelector('.bg');
        if (bgEl) bgEl.style.display = 'none';
        
        const frameProgress = (scrollPercent - 0.40) / (0.50 - 0.40);
        const frameIndex = Math.min(Math.floor(frameProgress * 25) + 1, 25);
        const frameNumber = String(frameIndex).padStart(3, '0');
        scrollFrames.src = `assets/video-frames/ezgif-frame-${frameNumber}.png`;
        bhAutoPlayStart = -1;
      }
      // Part 2 - Auto-play loop: 0.51-0.53 (during black hole hotspots)
      else if (scrollPercent >= 0.51 && scrollPercent < 0.54) {
        scrollFrames.classList.add('visible');
        scrollFrames.style.opacity = 1;
        scrollFrames.style.transform = 'translate(-50%, -50%) scale(1)';
        scrollFrames.style.filter = 'blur(0px)';
        grayMilkywayBg.classList.remove('visible');
        milkywayBg.classList.remove('visible');
        const bgEl = document.querySelector('.bg');
        if (bgEl) bgEl.style.display = 'none';
        
        // Auto-play: ping-pong loop (25→51→25...)
        if (bhAutoPlayStart < 0) bhAutoPlayStart = performance.now();
        const elapsed = (performance.now() - bhAutoPlayStart) / 1000;
        const loopFrames = totalFrames - 25 + 1;
        const halfLoop = 2.0;
        const fullLoop = halfLoop * 2;
        const loopTime = elapsed % fullLoop;
        let frameIndex;
        if (loopTime < halfLoop) {
          const t = loopTime / halfLoop;
          frameIndex = 25 + Math.floor(t * (loopFrames - 1));
        } else {
          const t = (loopTime - halfLoop) / halfLoop;
          frameIndex = 51 - Math.floor(t * (loopFrames - 1));
        }
        const frameNumber = String(frameIndex).padStart(3, '0');
        scrollFrames.src = `assets/video-frames/ezgif-frame-${frameNumber}.png`;
      }
      // Part 3 - Scroll frames: 0.54-0.62 (continue scrolling to end)
      else if (scrollPercent >= 0.54 && scrollPercent < 0.62) {
        scrollFrames.classList.add('visible');
        scrollFrames.style.transform = 'translate(-50%, -50%) scale(1)';
        scrollFrames.style.filter = 'blur(0px)';
        milkywayBg.classList.remove('visible');
        const bgEl = document.querySelector('.bg');
        if (bgEl) bgEl.style.display = 'none';
        bhAutoPlayStart = -1;
        
        // Frames scroll: 0.54-0.59
        if (scrollPercent < 0.59) {
          const frameProgress = (scrollPercent - 0.54) / (0.59 - 0.54);
          const frameIndex = Math.min(Math.floor(frameProgress * 26) + 25, 51);
          const frameNumber = String(frameIndex).padStart(3, '0');
          scrollFrames.src = `assets/video-frames/ezgif-frame-${frameNumber}.png`;
        }
        
        // 0.59-0.62: quick fade out
        if (scrollPercent >= 0.59) {
          const fadeProgress = Math.min((scrollPercent - 0.59) / 0.03, 1);
          const eased = fadeProgress * fadeProgress; // fast easeIn
          scrollFrames.style.opacity = 1 - eased;
        } else {
          scrollFrames.style.opacity = 1;
        }
      } else {
        scrollFrames.classList.remove('visible');
        scrollFrames.style.opacity = 0;
        // החזרת רקעים כשיוצאים מטווח הפריימים
        const bgEl = document.querySelector('.bg');
        if (bgEl && scrollPercent < 0.36) bgEl.style.display = 'block';
        if (scrollPercent < 0.37) {
          scrollFrames.src = 'assets/video-frames/ezgif-frame-001.png'; // Reset to first frame
        }
      }
      
      // Galaxy Scroll Frames - fade in 0.72-0.75, full animation 0.75-0.89 (no effect)
      const galaxyScrollFrames = document.getElementById('galaxy-scroll-frames');
      const galaxyTotalFrames = 51;
      
      // Smooth fade in phase: 0.72-0.75
      if (scrollPercent >= 0.72 && scrollPercent < 0.75) {
        const t = (scrollPercent - 0.72) / 0.03;
        const eased = 1 - Math.pow(1 - t, 3); // easeOutCubic
        galaxyScrollFrames.style.opacity = eased;
        const scale = 0.92 + (eased * 0.08);
        const blur = (1 - eased) * 5;
        galaxyScrollFrames.style.transform = `translate(-50%, -50%) scale(${scale})`;
        galaxyScrollFrames.style.filter = `blur(${blur}px)`;
        galaxyScrollFrames.src = 'assets/galaxy-frames/ezgif-frame-001.png';
        galaxyScrollFrames.classList.add('visible');
      }
      // Full animation: 0.75-0.87, then dissolve 0.87-0.91
      else if (scrollPercent >= 0.75 && scrollPercent < 0.91) {
        galaxyScrollFrames.classList.add('visible');
        
        if (scrollPercent < 0.87) {
          // Plain frames
          galaxyScrollFrames.style.opacity = 1;
          galaxyScrollFrames.style.filter = 'blur(0px)';
          galaxyScrollFrames.style.transform = 'translate(-50%, -50%) scale(1)';
          const galaxyFrameProgress = (scrollPercent - 0.75) / (0.87 - 0.75);
          const galaxyFrameIndex = Math.min(Math.floor(galaxyFrameProgress * galaxyTotalFrames) + 1, galaxyTotalFrames);
          const galaxyFrameNumber = String(galaxyFrameIndex).padStart(3, '0');
          galaxyScrollFrames.src = `assets/galaxy-frames/ezgif-frame-${galaxyFrameNumber}.png`;
        } else {
          // 0.87-0.91: gentle dissolve
          const fadeOut = (scrollPercent - 0.87) / 0.04;
          const eased = fadeOut * fadeOut * (3 - 2 * fadeOut); // smoothstep
          galaxyScrollFrames.style.opacity = 1 - eased;
          galaxyScrollFrames.style.filter = `blur(${eased * 3}px)`;
          galaxyScrollFrames.style.transform = 'translate(-50%, -50%) scale(1)';
        }
      } else {
        galaxyScrollFrames.classList.remove('visible');
        galaxyScrollFrames.style.opacity = 0;
        galaxyScrollFrames.style.filter = 'blur(0px)';
        if (scrollPercent < 0.72) {
          galaxyScrollFrames.src = 'assets/galaxy-frames/ezgif-frame-001.png';
        }
      }
      
      // BLACK HOLES text - DISABLED
      const textStart = 999; // disabled
      const suckStart = 999;
      const suckEnd = 999;
      
      // Black holes title pops in at 33%
      if (scrollPercent >= textStart && scrollPercent <= suckEnd) {
        blackholesTitle.classList.add('visible');
        blackholesSubtitle.classList.add('visible');
        
        // Sucking effect starts at 42%
        if (scrollPercent >= suckStart) {
          const suckProgress = (scrollPercent - suckStart) / (suckEnd - suckStart);
          
          blackholesTitle.classList.add('sucking');
          blackholesSubtitle.classList.add('sucking');
          
          // Text gets pulled toward center and shrinks with crazy spin
          const scale = Math.max(0, 1 - suckProgress * 1.2);
          const rotation = suckProgress * 1080; // 3 full rotations!
          const stretch = 1 + suckProgress * 3;
          
          blackholesTitle.style.transform = `scale(${scale}) rotate(${rotation}deg) scaleX(${1/stretch})`;
          blackholesTitle.style.opacity = Math.max(0, 1 - suckProgress * 1.5);
          blackholesTitle.style.filter = `blur(${suckProgress * 15}px)`;
          
          blackholesSubtitle.style.transform = `translateY(0) scale(${scale * 0.8}) rotate(${rotation * 1.2}deg)`;
          blackholesSubtitle.style.opacity = Math.max(0, 1 - suckProgress * 2);
          blackholesSubtitle.style.filter = `blur(${suckProgress * 20}px)`;
        } else {
          // Reset transforms when not sucking
          blackholesTitle.style.transform = '';
          blackholesTitle.style.opacity = '';
          blackholesTitle.style.filter = '';
          blackholesSubtitle.style.transform = '';
          blackholesSubtitle.style.opacity = '';
          blackholesSubtitle.style.filter = '';
          blackholesTitle.classList.remove('sucking');
          blackholesSubtitle.classList.remove('sucking');
        }
      } else {
        blackholesTitle.classList.remove('visible');
        blackholesSubtitle.classList.remove('visible');
        // Reset transforms
        blackholesTitle.style.transform = '';
        blackholesTitle.style.opacity = '';
        blackholesTitle.style.filter = '';
        blackholesSubtitle.style.transform = '';
        blackholesSubtitle.style.opacity = '';
        blackholesSubtitle.style.filter = '';
      }
      
      // Black Holes text - smooth fade in 0.30-0.33, visible 0.33-0.35, smooth fade out 0.35-0.38
      const blackholeText = document.getElementById('blackhole-text');
      if (blackholeText) {
        if (scrollPercent >= 0.30 && scrollPercent < 0.33) {
          // Smooth fade in - longer and softer
          const fadeInProgress = (scrollPercent - 0.30) / 0.03;
          const eased = fadeInProgress * fadeInProgress * (3 - 2 * fadeInProgress); // smoothstep
          blackholeText.style.opacity = eased;
          const scale = 0.92 + eased * 0.08;
          const translateY = -50 + (1 - eased) * 8;
          blackholeText.style.transform = `translate(-50%, ${translateY}%) scale(${scale})`;
          blackholeText.classList.add('visible');
          blackholeText.classList.remove('fade-out');
        } else if (scrollPercent >= 0.33 && scrollPercent < 0.35) {
          // Fully visible
          blackholeText.style.opacity = 1;
          blackholeText.style.transform = 'translate(-50%, -50%) scale(1)';
          blackholeText.classList.add('visible');
          blackholeText.classList.remove('fade-out');
        } else if (scrollPercent >= 0.35 && scrollPercent < 0.38) {
          // Smooth scroll up + fade out
          const scrollUpProgress = (scrollPercent - 0.35) / 0.03;
          const eased = scrollUpProgress * scrollUpProgress * (3 - 2 * scrollUpProgress); // smoothstep
          const translateY = -50 - (eased * 60);
          blackholeText.style.opacity = 1 - eased;
          blackholeText.style.transform = `translate(-50%, ${translateY}%) scale(${1 - eased * 0.05})`;
          blackholeText.classList.add('visible');
          blackholeText.classList.add('fade-out');
        } else {
          // Hidden
          blackholeText.style.opacity = 0;
          blackholeText.classList.remove('visible');
          blackholeText.classList.remove('fade-out');
        }
      }
      
      // Purple Galaxy background - appears after black hole is gone (0.65+)
      const bgInner = document.querySelector('.bg-inner');
      const galaxyText = document.getElementById('galaxy-text');
      const timelineGalaxy = document.getElementById('timeline-galaxy');
      
      if (scrollPercent >= 0.60) {
        // Quick crossfade: purple galaxy fades in 0.60-0.63
        if (scrollPercent < 0.63) {
          const fadeT = (scrollPercent - 0.60) / 0.03;
          purpleGalaxyBg.style.opacity = fadeT * fadeT; // easeIn - fast reveal
          purpleGalaxyBg.classList.add('visible');
        } else if (scrollPercent < 0.89) {
          // Fully visible
          purpleGalaxyBg.style.opacity = '';
          purpleGalaxyBg.classList.add('visible');
        } else if (scrollPercent < 0.94) {
          // 0.89-0.94: slow fade out as planets bg takes over
          const fadeOut = (scrollPercent - 0.89) / 0.05;
          // easeInOutQuad - gentle S curve
          const eased = fadeOut < 0.5
            ? 2 * fadeOut * fadeOut
            : 1 - Math.pow(-2 * fadeOut + 2, 2) / 2;
          purpleGalaxyBg.style.opacity = 1 - eased;
          purpleGalaxyBg.classList.add('visible');
        } else {
          purpleGalaxyBg.style.opacity = 0;
          purpleGalaxyBg.classList.remove('visible');
        }
        if (scrollPercent >= 0.63) grayMilkywayBg.classList.remove('visible');
        if (bgInner) bgInner.classList.add('hidden');
        
        // GALAXY title - letter-by-letter reveal 0.64-0.70, visible 0.70-0.73, split apart 0.73-0.77
        if (galaxyText) {
          const galaxyTitle = galaxyText.querySelector('.galaxy-title');
          const galaxySub = galaxyText.querySelector('.galaxy-subtitle');

          if (scrollPercent >= 0.64 && scrollPercent < 0.70) {
            // Letter-by-letter reveal with blur
            const revealProgress = (scrollPercent - 0.64) / 0.06;
            galaxyText.classList.add('visible');
            galaxyText.style.opacity = 1;
            galaxyText.style.transform = 'translate(-50%, -50%)';

            // Title letters
            if (galaxyTitle && !galaxyTitle._lettersWrapped) {
              const text = galaxyTitle.textContent;
              galaxyTitle.innerHTML = text.split('').map(ch =>
                ch === ' ' ? ' ' : `<span class="galaxy-letter">${ch}</span>`
              ).join('');
              galaxyTitle._lettersWrapped = true;
            }
            const letters = galaxyTitle ? galaxyTitle.querySelectorAll('.galaxy-letter') : [];
            letters.forEach((letter, i) => {
              const letterDelay = i / letters.length;
              const letterProgress = Math.max(0, Math.min(1, (revealProgress - letterDelay * 0.6) / 0.4));
              const eased = letterProgress * letterProgress * (3 - 2 * letterProgress);
              letter.style.opacity = eased;
              letter.style.filter = `blur(${(1 - eased) * 12}px)`;
              letter.style.transform = `translateY(${(1 - eased) * 20}px)`;
              letter.style.display = 'inline-block';
            });

            // Subtitle fades in at end
            if (galaxySub) {
              const subProgress = Math.max(0, (revealProgress - 0.6) / 0.4);
              const subEased = subProgress * subProgress * (3 - 2 * subProgress);
              galaxySub.style.opacity = subEased;
              galaxySub.style.filter = `blur(${(1 - subEased) * 8}px)`;
            }
          } else if (scrollPercent >= 0.70 && scrollPercent < 0.73) {
            // Fully visible
            galaxyText.style.opacity = 1;
            galaxyText.style.transform = 'translate(-50%, -50%)';
            galaxyText.classList.add('visible');
            const letters = galaxyTitle ? galaxyTitle.querySelectorAll('.galaxy-letter') : [];
            letters.forEach(letter => {
              letter.style.opacity = 1;
              letter.style.filter = 'blur(0px)';
              letter.style.transform = 'translateY(0)';
            });
            if (galaxySub) {
              galaxySub.style.opacity = 1;
              galaxySub.style.filter = 'blur(0px)';
            }
          } else if (scrollPercent >= 0.73 && scrollPercent < 0.77) {
            // Letters split apart and fade
            const exitProgress = (scrollPercent - 0.73) / 0.04;
            const eased = exitProgress * exitProgress;
            galaxyText.classList.add('visible');
            galaxyText.style.opacity = 1 - eased * 0.3;
            galaxyText.style.transform = 'translate(-50%, -50%)';

            const letters = galaxyTitle ? galaxyTitle.querySelectorAll('.galaxy-letter') : [];
            letters.forEach((letter, i) => {
              const center = letters.length / 2;
              const offset = (i - center) * eased * 40;
              const yOffset = -eased * 50 + Math.sin(i * 0.8) * eased * 30;
              letter.style.transform = `translate(${offset}px, ${yOffset}px)`;
              letter.style.opacity = 1 - eased;
              letter.style.filter = `blur(${eased * 8}px)`;
            });
            if (galaxySub) {
              galaxySub.style.opacity = 1 - eased;
              galaxySub.style.filter = `blur(${eased * 6}px)`;
            }
          } else {
            // Hidden
            galaxyText.style.opacity = 0;
            galaxyText.classList.remove('visible');
          }
        }
        
        // Timeline "10.8B YEARS AGO" - same scroll effect as timeline-1 (0.73 to 0.83)
        const galaxyTimeStart = 0.73;
        const galaxyTimeEnd = 0.83;
        if (scrollPercent >= galaxyTimeStart && scrollPercent < galaxyTimeEnd) {
          if (timelineGalaxy) {
            const progress = (scrollPercent - galaxyTimeStart) / (galaxyTimeEnd - galaxyTimeStart);
            const translateY = 100 - (progress * 170);
            const opacity = progress < 0.05 ? progress * 20 : (progress > 0.85 ? (1 - progress) * 6.67 : 1);
            timelineGalaxy.style.transform = `translateY(${translateY}vh)`;
            timelineGalaxy.style.opacity = opacity;
          }
        } else if (scrollPercent < galaxyTimeStart) {
          if (timelineGalaxy) {
            timelineGalaxy.style.transform = 'translateY(100vh)';
            timelineGalaxy.style.opacity = '0';
          }
        } else {
          if (timelineGalaxy) {
            timelineGalaxy.style.transform = 'translateY(-150vh)';
            timelineGalaxy.style.opacity = '0';
          }
        }
      } else {
        purpleGalaxyBg.classList.remove('visible');
        purpleGalaxyBg.style.opacity = '';
        if (bgInner) bgInner.classList.remove('hidden');
        
        // Hide galaxy text
        if (galaxyText) galaxyText.classList.remove('visible');
        if (timelineGalaxy) {
          timelineGalaxy.style.opacity = '0';
          timelineGalaxy.style.bottom = '0px';
          timelineGalaxy.style.transform = 'translateY(100vh)';
        }
      }
      
      // Planets background - gentle fade in from 0.89 to 0.94
      const solarSystemSection = document.getElementById('solar-system-section');
      
      if (scrollPercent >= 0.89) {
        planetsBg.classList.add('visible');
        
        // 0.89-0.94: slow fade in, synced with purple galaxy fade out
        if (scrollPercent < 0.94) {
          const fadeT = (scrollPercent - 0.89) / 0.05;
          // easeInOutQuad - gentle S curve matching the galaxy fade
          const eased = fadeT < 0.5
            ? 2 * fadeT * fadeT
            : 1 - Math.pow(-2 * fadeT + 2, 2) / 2;
          planetsBg.style.opacity = eased;
        } else {
          planetsBg.style.opacity = '';
        }
        
        if (galaxyText) galaxyText.classList.remove('visible');
        if (timelineGalaxy) {
          timelineGalaxy.style.opacity = '0';
        }
      } else {
        planetsBg.classList.remove('visible');
        planetsBg.style.opacity = '';
      }
      
      // Solar system section - enters after bg starts (0.92-0.98)
      if (scrollPercent >= 0.92) {
        if (solarSystemSection) {
          solarSystemSection.classList.add('visible');
          
          if (scrollPercent < 0.98) {
            // 0.92-0.98: gentle rise from below + fade + slight blur clear
            const t = (scrollPercent - 0.92) / 0.06;
            // easeOutQuint - very smooth deceleration
            const eased = 1 - Math.pow(1 - t, 5);
            const translateY = (1 - eased) * 30; // starts 30vh below
            // Opacity comes in gently
            const opacityT = Math.min(t * 1.2, 1);
            const opacity = opacityT * opacityT * (3 - 2 * opacityT);
            // Slight blur that clears as it settles
            const blur = (1 - eased) * 2;
            solarSystemSection.style.transform = `translateY(${translateY}vh)`;
            solarSystemSection.style.opacity = opacity;
            solarSystemSection.style.filter = `blur(${blur}px)`;
          } else {
            // Fully settled
            solarSystemSection.style.transform = 'translateY(0)';
            solarSystemSection.style.opacity = '';
            solarSystemSection.style.filter = '';
          }
        }
        const sunVideo = document.getElementById('planet-image');
        if (sunVideo && sunVideo.tagName === 'VIDEO' && sunVideo.paused) {
          sunVideo.play().catch(() => {});
        }
      } else {
        if (solarSystemSection) {
          solarSystemSection.classList.remove('visible');
          solarSystemSection.style.opacity = '';
          solarSystemSection.style.transform = '';
          solarSystemSection.style.filter = '';
        }
      }
      
      // Footer - from 0.98 to end
      const siteFooter = document.getElementById('site-footer');
      if (scrollPercent >= 0.98) {
        if (siteFooter) siteFooter.classList.add('visible');
      } else {
        if (siteFooter) siteFooter.classList.remove('visible');
      }
      
    }
    
    window.addEventListener('scroll', updateMilkywayBg);
    updateMilkywayBg();
    
    // Auto-play loop: keeps updating frames during video phase (0.50-0.53)
    function bhAutoPlayLoop() {
      requestAnimationFrame(bhAutoPlayLoop);
      if (bhAutoPlayStart >= 0) {
        updateMilkywayBg();
      }
    }
    bhAutoPlayLoop();
    
    // Timeline Navigation
    const timelineNavPoints = document.querySelectorAll('.timeline-nav-point');
    const timelineNavProgress = document.getElementById('timeline-nav-progress');
    
    function updateTimelineNav() {
      const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = window.scrollY / maxScroll;
      
      // Update progress line
      if (timelineNavProgress) {
        timelineNavProgress.style.height = (scrollPercent * 100) + '%';
      }
      
      // Update active point
      let activeIndex = 0;
      timelineNavPoints.forEach((point, index) => {
        const targetScroll = parseFloat(point.dataset.scroll);
        if (scrollPercent >= targetScroll) {
          activeIndex = index;
        }
      });
      
      timelineNavPoints.forEach((point, index) => {
        if (index === activeIndex) {
          point.classList.add('active');
        } else {
          point.classList.remove('active');
        }
      });
    }
    
    // Click to navigate
    timelineNavPoints.forEach(point => {
      point.addEventListener('click', () => {
        const targetScroll = parseFloat(point.dataset.scroll);
        const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
        const scrollTo = targetScroll * maxScroll;
        window.scrollTo({
          top: scrollTo,
          behavior: 'smooth'
        });
      });
    });
    
    window.addEventListener('scroll', updateTimelineNav);
    updateTimelineNav();
    
    // Left Section Navigation
    const sectionNavItems = document.querySelectorAll('.section-nav-item');
    
    function updateSectionNav() {
      const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = window.scrollY / maxScroll;
      
      let activeIndex = 0;
      sectionNavItems.forEach((item, index) => {
        const targetScroll = parseFloat(item.dataset.scroll);
        if (scrollPercent >= targetScroll) {
          activeIndex = index;
        }
      });
      
      sectionNavItems.forEach((item, index) => {
        if (index === activeIndex) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });
    }
    
    // Click to navigate
    sectionNavItems.forEach(item => {
      item.addEventListener('click', () => {
        const targetScroll = parseFloat(item.dataset.scroll);
        const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
        const scrollTo = targetScroll * maxScroll;
        window.scrollTo({
          top: scrollTo,
          behavior: 'smooth'
        });
      });
    });
    
    window.addEventListener('scroll', updateSectionNav);
    updateSectionNav();

    // ====== PLANET SWITCHING ======
    const planetsData = {
      sun: {
        name: 'THE SUN',
        type: 'Star',
        diameter: '1,392,700 km',
        temp: '5,500°C',
        climate: 'Extreme plasma environment',
        dayLength: '25 days (equator) /<br>35 days (poles)',
        description: 'The Sun is the star at the center of our Solar System. It is a nearly perfect ball of hot plasma, heated to incandescence by nuclear fusion reactions in its core. The Sun radiates energy mainly as visible light and infrared radiation, and is the most important source of energy for life on Earth.',
        media: 'assets/sun-video.mp4',
        isVideo: true
      },
      mercury: {
        name: 'MERCURY',
        type: 'Terrestrial',
        diameter: '4,879 km',
        temp: '167°C',
        climate: 'No atmosphere, extreme temperature swings',
        dayLength: '58.6 Earth days',
        description: 'Mercury is the smallest planet in our Solar System and the closest to the Sun. Its surface is heavily cratered and resembles the Moon. With virtually no atmosphere, temperatures swing from -180°C at night to 430°C during the day.',
        media: 'assets/mercury-video.mp4',
        isVideo: true
      },
      venus: {
        name: 'VENUS',
        type: 'Terrestrial',
        diameter: '12,104 km',
        temp: '464°C',
        climate: 'Dense CO₂ atmosphere, sulfuric acid clouds',
        dayLength: '243 Earth days',
        description: 'Venus is the second planet from the Sun and the hottest in our Solar System due to its thick, toxic atmosphere of carbon dioxide. It rotates in the opposite direction to most planets, and a day on Venus is longer than its year.',
        media: 'assets/venus-video.mp4',
        isVideo: true
      },
      earth: {
        name: 'EARTH',
        type: 'Terrestrial',
        diameter: '12,742 km',
        temp: '15°C',
        climate: 'Nitrogen-oxygen atmosphere, water oceans',
        dayLength: '24 hours',
        description: 'Earth is the third planet from the Sun and the only known world to harbor life. With vast oceans, a protective atmosphere, and a magnetic field, Earth provides the perfect conditions for a diverse range of ecosystems and complex life forms.',
        media: 'assets/blue-planet.png',
        isVideo: false
      },
      mars: {
        name: 'MARS',
        type: 'Terrestrial',
        diameter: '6,779 km',
        temp: '-65°C',
        climate: 'Thin CO₂ atmosphere, dust storms',
        dayLength: '24.6 hours',
        description: 'Mars is the fourth planet from the Sun, often called the Red Planet due to iron oxide on its surface. It has the tallest volcano (Olympus Mons) and the deepest canyon (Valles Marineris) in the Solar System. Evidence suggests water once flowed on its surface.',
        media: 'assets/red-planet.png',
        isVideo: false
      },
      jupiter: {
        name: 'JUPITER',
        type: 'Gas Giant',
        diameter: '139,820 km',
        temp: '-110°C',
        climate: 'Hydrogen-helium atmosphere, Great Red Spot',
        dayLength: '9.9 hours',
        description: 'Jupiter is the largest planet in our Solar System, a gas giant with a mass more than twice that of all other planets combined. Its iconic Great Red Spot is a storm that has raged for hundreds of years, and it has at least 95 known moons.',
        media: 'assets/gold-planet.png',
        isVideo: false
      },
      saturn: {
        name: 'SATURN',
        type: 'Gas Giant',
        diameter: '116,460 km',
        temp: '-140°C',
        climate: 'Hydrogen-helium atmosphere, iconic ring system',
        dayLength: '10.7 hours',
        description: 'Saturn is the sixth planet from the Sun, best known for its stunning ring system made of ice and rock particles. It is a gas giant with a density so low it could float on water. Saturn has over 140 known moons, including Titan, which has its own atmosphere.',
        media: 'assets/gold-planet.png',
        isVideo: false
      },
      uranus: {
        name: 'URANUS',
        type: 'Ice Giant',
        diameter: '50,724 km',
        temp: '-195°C',
        climate: 'Hydrogen-helium-methane atmosphere',
        dayLength: '17.2 hours',
        description: 'Uranus is the seventh planet from the Sun and the first discovered with a telescope. It has a unique tilt of 98°, essentially rolling on its side as it orbits. Its blue-green color comes from methane in its atmosphere absorbing red light.',
        media: 'assets/blue-planet.png',
        isVideo: false
      },
      neptune: {
        name: 'NEPTUNE',
        type: 'Ice Giant',
        diameter: '49,244 km',
        temp: '-200°C',
        climate: 'Hydrogen-helium-methane, supersonic winds',
        dayLength: '16.1 hours',
        description: 'Neptune is the eighth and farthest planet from the Sun. It has the strongest winds in the Solar System, reaching speeds of 2,100 km/h. Its vivid blue color comes from methane in its atmosphere, and it has a faint ring system and 16 known moons.',
        media: 'assets/purple-planet.png',
        isVideo: false
      },
      pluto: {
        name: 'PLUTO',
        type: 'Dwarf Planet',
        diameter: '2,377 km',
        temp: '-230°C',
        climate: 'Thin nitrogen atmosphere, frozen surface',
        dayLength: '6.4 Earth days',
        description: 'Pluto is a dwarf planet in the Kuiper Belt, once considered the ninth planet. Despite its small size, it has a complex surface with mountains of water ice, plains of frozen nitrogen, and a thin atmosphere that expands when closer to the Sun.',
        media: 'assets/purple-planet.png',
        isVideo: false
      },
      moon: {
        name: 'THE MOON',
        type: 'Natural Satellite',
        diameter: '3,474 km',
        temp: '-20°C',
        climate: 'No atmosphere, extreme temperature variation',
        dayLength: '29.5 Earth days',
        description: 'The Moon is Earth\'s only natural satellite and the fifth-largest moon in the Solar System. It influences Earth\'s tides and stabilizes its axial tilt. Humans first walked on the Moon in 1969, and it remains the only celestial body beyond Earth visited by humans.',
        media: 'assets/mercury.png',
        isVideo: false
      }
    };

    let currentPlanet = 'sun';

    const planetOrder = ['saturn', 'uranus', 'neptune', 'pluto', 'moon', 'sun', 'mercury', 'venus', 'earth', 'mars', 'jupiter'];
    const planetLabels = {
      saturn: 'Saturn', uranus: 'Uranus', neptune: 'Neptune', pluto: 'Pluto',
      moon: 'Moon', sun: 'The Sun', mercury: 'Mercury', venus: 'Venus',
      earth: 'Earth', mars: 'Mars', jupiter: 'Jupiter'
    };

    function reorderNav(activePlanet, animate) {
      const nav = document.querySelector('.planet-nav');
      const total = planetOrder.length;
      const centerPos = Math.floor(total / 2);
      const activeIdx = planetOrder.indexOf(activePlanet);

      // Build circular order so activePlanet is at centerPos
      const ordered = [];
      for (let i = 0; i < total; i++) {
        const idx = ((activeIdx - centerPos + i) % total + total) % total;
        ordered.push(planetOrder[idx]);
      }

      const items = Array.from(nav.querySelectorAll('.planet-nav-item'));
      const itemMap = {};
      items.forEach(item => itemMap[item.dataset.planet] = item);

      // FLIP: record old positions
      const oldRects = {};
      if (animate) {
        items.forEach(item => {
          oldRects[item.dataset.planet] = item.getBoundingClientRect();
        });
      }

      // Reorder DOM + update active
      ordered.forEach(key => {
        const item = itemMap[key];
        item.classList.toggle('active', key === activePlanet);
        nav.appendChild(item);
      });

      // FLIP: animate from old to new position
      if (animate) {
        requestAnimationFrame(() => {
          ordered.forEach(key => {
            const item = itemMap[key];
            const newRect = item.getBoundingClientRect();
            const oldRect = oldRects[key];
            if (oldRect) {
              const dx = oldRect.left - newRect.left;
              const dy = oldRect.top - newRect.top;
              item.style.transition = 'none';
              item.style.transform = `translate(${dx}px, ${dy}px)`;
              requestAnimationFrame(() => {
                item.style.transition = 'transform 0.45s cubic-bezier(0.25, 0.1, 0.25, 1)';
                item.style.transform = '';
              });
            }
          });
        });
      }
    }

    const glowColors = {
      sun: 'drop-shadow(0 0 60px rgba(255, 150, 50, 0.4))',
      mercury: 'drop-shadow(0 0 60px rgba(180, 160, 140, 0.4))',
      venus: 'drop-shadow(0 0 60px rgba(255, 200, 100, 0.4))',
      earth: 'drop-shadow(0 0 60px rgba(80, 150, 255, 0.4))',
      mars: 'drop-shadow(0 0 60px rgba(255, 80, 50, 0.4))',
      jupiter: 'drop-shadow(0 0 60px rgba(255, 180, 80, 0.4))',
      saturn: 'drop-shadow(0 0 60px rgba(230, 200, 140, 0.4))',
      uranus: 'drop-shadow(0 0 60px rgba(130, 210, 230, 0.4))',
      neptune: 'drop-shadow(0 0 60px rgba(100, 100, 220, 0.4))',
      pluto: 'drop-shadow(0 0 60px rgba(180, 150, 200, 0.4))',
      moon: 'drop-shadow(0 0 60px rgba(200, 200, 210, 0.4))'
    };

    function switchPlanet(planetKey) {
      if (planetKey === currentPlanet) return;
      const data = planetsData[planetKey];
      if (!data) return;

      currentPlanet = planetKey;

      // Reorder nav carousel with animation
      reorderNav(planetKey, true);

      // Elements to fade
      const display = document.querySelector('.planet-display');
      const statsBar = document.getElementById('planet-stats-bar');
      const titleOverlay = document.getElementById('planet-title-overlay');

      // Fade out
      display.style.transition = 'opacity 0.3s ease';
      statsBar.style.transition = 'opacity 0.3s ease';
      titleOverlay.style.transition = 'opacity 0.3s ease';
      display.style.opacity = '0';
      statsBar.style.opacity = '0';
      titleOverlay.style.opacity = '0';

      setTimeout(() => {
        // Update stats bar
        document.getElementById('info-type').textContent = data.type;
        document.getElementById('info-diameter').textContent = data.diameter;
        document.getElementById('info-temp').textContent = data.temp;
        document.getElementById('info-climate').textContent = data.climate;

        // Update title
        titleOverlay.textContent = data.name;

        // Update planet info
        document.getElementById('info-day').innerHTML = data.dayLength;
        document.getElementById('planet-description').textContent = data.description;

        // Update media (video or image)
        const oldMedia = document.getElementById('planet-image');
        
        if (data.isVideo) {
          if (oldMedia.tagName !== 'VIDEO') {
            const video = document.createElement('video');
            video.src = data.media;
            video.autoplay = true;
            video.loop = true;
            video.muted = true;
            video.playsInline = true;
            video.className = 'planet-main-image';
            video.id = 'planet-image';
            video.style.filter = glowColors[planetKey] || glowColors.sun;
            oldMedia.replaceWith(video);
            video.play().catch(() => {});
          } else {
            oldMedia.src = data.media;
            oldMedia.style.filter = glowColors[planetKey] || glowColors.sun;
            oldMedia.play().catch(() => {});
          }
        } else {
          if (oldMedia.tagName !== 'IMG') {
            const img = document.createElement('img');
            img.src = data.media;
            img.alt = data.name;
            img.className = 'planet-main-image';
            img.id = 'planet-image';
            img.style.filter = glowColors[planetKey] || glowColors.sun;
            oldMedia.replaceWith(img);
          } else {
            oldMedia.src = data.media;
            oldMedia.alt = data.name;
            oldMedia.style.filter = glowColors[planetKey] || glowColors.sun;
          }
        }

        // Update corner planet to show next
        updateCornerPlanet();

        // Fade in
        requestAnimationFrame(() => {
          display.style.opacity = '1';
          statsBar.style.opacity = '1';
          titleOverlay.style.opacity = '1';
        });
      }, 300);
    }

    // Nav item click handlers
    document.querySelectorAll('.planet-nav-item').forEach(item => {
      item.addEventListener('click', () => {
        switchPlanet(item.dataset.planet);
      });
    });

    // Initial carousel order (Sun in center, no animation)
    reorderNav('sun', false);

    // Corner planet images (for the "next planet" preview)
    const cornerImages = {
      sun: 'assets/sun.png',
      mercury: 'assets/mercury.png',
      venus: 'assets/venus.png',
      earth: 'assets/earth.png',
      mars: 'assets/red-planet.png',
      jupiter: 'assets/gold-planet.png',
      saturn: 'assets/gold-planet.png',
      uranus: 'assets/blue-planet.png',
      neptune: 'assets/purple-planet.png',
      pluto: 'assets/purple-planet.png',
      moon: 'assets/mercury.png'
    };

    function updateCornerPlanet() {
      const currentIdx = planetOrder.indexOf(currentPlanet);
      const nextIdx = (currentIdx + 1) % planetOrder.length;
      const nextKey = planetOrder[nextIdx];
      const label = document.getElementById('corner-planet-label');
      const img = document.getElementById('corner-planet-img');
      label.textContent = planetLabels[nextKey].toUpperCase();
      img.src = cornerImages[nextKey];
      img.alt = planetLabels[nextKey];
    }

    // Update corner on initial load
    updateCornerPlanet();

    // Planet hotspot tooltip
    const planetHotspot = document.getElementById('planet-hotspot');
    const planetTooltip = document.getElementById('planet-hotspot-tooltip');
    const tooltipClose = document.getElementById('tooltip-close');
    const tooltipVideo = document.getElementById('tooltip-video');

    planetHotspot.addEventListener('click', (e) => {
      e.stopPropagation();
      const isActive = planetTooltip.classList.contains('active');
      if (isActive) {
        planetTooltip.classList.remove('active');
        tooltipVideo.pause();
      } else {
        planetTooltip.classList.add('active');
        tooltipVideo.play().catch(() => {});
      }
    });

    tooltipClose.addEventListener('click', (e) => {
      e.stopPropagation();
      planetTooltip.classList.remove('active');
      tooltipVideo.pause();
    });

    // Corner planet button - go to next planet
    document.querySelector('.mercury-corner-wrapper').addEventListener('click', () => {
      const currentIdx = planetOrder.indexOf(currentPlanet);
      const nextIdx = (currentIdx + 1) % planetOrder.length;
      switchPlanet(planetOrder[nextIdx]);
    });

  </script>

  <!-- Accessibility Menu Script -->
  <script>
    const a11yToggle = document.getElementById('a11y-toggle');
    const a11yPanel = document.getElementById('a11y-panel');
    let fontScale = 100;
    let isHebrew = false;
    
    const hebrewTranslations = {
      // Big Bang section
      '.hero-content .hero-title': 'המפץ הגדול',
      '.hero-content .hero-subtitle': 'תיאוריית המפץ הגדול גורסת שהיקום התחיל כנקודה חמה וצפופה\nאינסופית ברוחב של מילימטרים בודדים. היא הייתה דומה לחור\nשחור בעל עוצמה אדירה לפני כ-13.7 מיליארד שנה.',
      // Black Holes section
      '#blackhole-text .hero-title': 'חורים שחורים',
      '#blackhole-text .hero-subtitle': 'חור שחור הוא אזור בחלל שבו כוח הכבידה חזק כל כך,\nשאפילו אור - הישות המהירה ביותר ביקום - לא יכול לברוח.\nהגבול של חור שחור נקרא אופק האירועים, נקודת אל-חזור\nשמעבר לה באמת לא ניתן לראות.',
      // Galaxy section
      '.galaxy-title': 'גלקסיה',
      '.galaxy-subtitle': 'גלקסיה היא מערכת הקשורה בכבידה של כוכבים, שרידי כוכבים,\nגז בין-כוכבי, אבק וחומר אפל. המילה נגזרת מהיוונית\n"גלקסיאס", שפירושו "חלבי", התייחסות לגלקסיית שביל החלב שלנו.',
      // Timeline 1 - Big Bang
      '#timeline-1 .timeline-description': 'הנקודה הזעירה הזו התפוצצה באלימות, ומהפיצוץ הזה - מה"מפץ" - נוצרו כל החומר, האנרגיה, המרחב והזמן.',
      // Timeline 2 - Black Holes
      '#timeline-2 .timeline-description': 'חור שחור הוא אזור בחלל שבו כוח הכבידה כה עוצמתי, שאפילו אור - הישות המהירה ביותר ביקום - אינו יכול לחמוק ממנו. גבולו של החור השחור נקרא אופק האירועים, נקודת אל-חזור שמעבר לה אי אפשר לראות דבר.',
      // Timeline Galaxy
      '#timeline-galaxy .timeline-description': 'הגלקסיות הראשונות החלו להיווצר, כאשר הכבידה משכה יחד עננים עצומים של מימן שנותרו מהמפץ הגדול. גלקסיות מוקדמות אלה היו קטנות ולא סדירות, והתמזגו במשך מיליארדי שנים ליצירת הספירלות והאליפטיות המרהיבות שאנו רואים היום.',
      // Footer
      '.footer-tagline': 'חוקרים את היקום מהמפץ הגדול ועד הכוכבים שמנחים אותנו היום.',
      '.footer-copyright': '© 2026 Origin. כל הזכויות שמורות. נוצר עם ✦ בין הכוכבים.',
      // Accessibility panel
      '.a11y-panel-title': 'נגישות',
      // Timeline nav
      '.timeline-nav-point[data-scroll="0"] .timeline-nav-label': 'המפץ הגדול',
      '.timeline-nav-point[data-scroll="0.07"] .timeline-nav-label': 'לפני 13.7 מיליארד שנה',
      '.timeline-nav-point[data-scroll="0.25"] .timeline-nav-label': 'מאנרגיה לכוכבים',
      '.timeline-nav-point[data-scroll="0.30"] .timeline-nav-label': 'חורים שחורים',
      '.timeline-nav-point[data-scroll="0.37"] .timeline-nav-label': 'לפני 13.2 מיליארד שנה',
      '.timeline-nav-point[data-scroll="0.50"] .timeline-nav-label': 'הליבה האפלה',
      '.timeline-nav-point[data-scroll="0.64"] .timeline-nav-label': 'גלקסיה',
      '.timeline-nav-point[data-scroll="0.73"] .timeline-nav-label': 'לפני 10.8 מיליארד שנה',
      '.timeline-nav-point[data-scroll="0.85"] .timeline-nav-label': 'מבנה היקום',
      '.timeline-nav-point[data-scroll="0.92"] .timeline-nav-label': 'מערכת השמש',
      // Music
      '.music-label': 'צליל פועל',
    };
    
    // Store original English text
    const englishOriginals = {};
    
    function toggleHebrew() {
      isHebrew = !isHebrew;
      
      if (isHebrew) {
        document.body.style.direction = 'ltr'; // keep LTR layout
        
        for (const [selector, hebrewText] of Object.entries(hebrewTranslations)) {
          const el = document.querySelector(selector);
          if (el) {
            if (!englishOriginals[selector]) {
              englishOriginals[selector] = el.innerHTML;
            }
            el.innerHTML = hebrewText.replace(/\n/g, '<br>');
          }
        }
      } else {
        for (const [selector, originalHTML] of Object.entries(englishOriginals)) {
          const el = document.querySelector(selector);
          if (el) {
            el.innerHTML = originalHTML;
          }
        }
      }
    }
    
    function applyFontScale() {
      const scale = fontScale / 100;
      document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, a, li, td, th, label, .timeline-text, .galaxy-title, .galaxy-subtitle, .blackhole-text-content, .planet-nav-item, .footer-title, .footer-text, .footer-copyright, .planet-title-overlay, .stat-value, .stat-label, .planet-description, .music-label, .timeline-nav-label').forEach(el => {
        if (scale === 1) {
          el.style.removeProperty('--a11y-scale');
          el.style.fontSize = '';
        } else {
          const computed = parseFloat(window.getComputedStyle(el).fontSize);
          if (!el.dataset.origFontSize) el.dataset.origFontSize = computed;
          el.style.fontSize = (parseFloat(el.dataset.origFontSize) * scale) + 'px';
        }
      });
      if (scale === 1) {
        document.querySelectorAll('[data-orig-font-size]').forEach(el => delete el.dataset.origFontSize);
      }
    }
    
    // Language toggle
    const langToggle = document.getElementById('lang-toggle');
    langToggle.addEventListener('click', () => {
      toggleHebrew();
      langToggle.classList.toggle('active');
      langToggle.textContent = isHebrew ? 'EN' : 'HE';
    });

    a11yToggle.addEventListener('click', (e) => {
      e.stopPropagation();
      a11yPanel.classList.toggle('open');
      a11yToggle.classList.toggle('active');
    });
    
    // Close panel on outside click
    document.addEventListener('click', (e) => {
      if (!a11yPanel.contains(e.target) && !a11yToggle.contains(e.target)) {
        a11yPanel.classList.remove('open');
        a11yToggle.classList.remove('active');
      }
    });
    
    document.querySelectorAll('.a11y-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const action = btn.dataset.action;
        
        switch (action) {
          case 'font-increase':
            fontScale = Math.min(fontScale + 15, 160);
            applyFontScale();
            break;
            
          case 'font-decrease':
            fontScale = Math.max(fontScale - 15, 70);
            applyFontScale();
            break;
            
          case 'high-contrast':
            document.body.classList.toggle('a11y-high-contrast');
            btn.classList.toggle('active');
            break;
            
          case 'grayscale':
            document.body.classList.toggle('a11y-grayscale');
            btn.classList.toggle('active');
            break;
            
          case 'highlight-links':
            document.body.classList.toggle('a11y-highlight-links');
            btn.classList.toggle('active');
            break;
            
          case 'big-cursor':
            document.body.classList.toggle('a11y-big-cursor');
            btn.classList.toggle('active');
            break;
            
          case 'reset':
            fontScale = 100;
            applyFontScale();
            if (isHebrew) toggleHebrew();
            document.body.classList.remove('a11y-high-contrast', 'a11y-grayscale', 'a11y-highlight-links', 'a11y-big-cursor');
            document.querySelectorAll('.a11y-btn.active').forEach(b => b.classList.remove('active'));
            break;
        }
      });
    });
  </script>
</body>
</html>
